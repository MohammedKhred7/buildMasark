import{_ as k,r as n,u as _,j as V,c as h,h as d,z as I,A as B,b as t,d as L,F as N,f as T,v as $,s as j,g as p,i as C,aI as O,q as R}from"./index-fFMRLnC2.js";import{_ as S}from"./FloatingConfigurator-C_Ibjx-w.js";import{L as U}from"./loadding-CajsehCY.js";const z={class:"bg-surface-50 dark:bg-surface-950 flex items-center justify-center min-h-screen min-w-[100vw] overflow-hidden"},E={class:"flex flex-col items-center justify-center"},F={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},J={class:"w-full bg-surface-0 dark:bg-surface-900 py-20 px-8 sm:px-15 sm:py-10",style:{"border-radius":"53px"}},M={class:"text-center mb-4"},q=["src"],A={style:{"text-align":"end","justify-content":"end"}},D={__name:"Register",setup(H){const i=n(!1),{isDarkTheme:v}=_(),{proxy:x}=C(),m=O(),r=V(),c=n(null),f=n(null),a=n({name:"",email:"",password:"",confirm_password:""}),s=n(!1),b=()=>{s.value=!0,a.value.name==""||a.value.email==""||a.value.password==""||a.value.confirm_password==""?(r.add({severity:"error",summary:"خطاء في أنشاء حساب جديد",detail:"الرجاء تسجيل  الأسم و البريد الاكتروني و كلمت المرور",life:3e3}),s.value=!1):!a.value.email.includes("@")||!a.value.email.includes(".")?(r.add({severity:"error",summary:"خطاء في أنشاء حساب جديد",detail:"البريد الاكتروني لازم يحتوي على @ و . ء",life:3e3}),s.value=!1):a.value.password!=a.value.confirm_password?(r.add({severity:"error",summary:"خطاء في أنشاء حساب جديد",detail:"الرجاء تسجيل كلمت المرور بشكل صحيح ",life:3e3}),s.value=!1):T.post(x.$localhost+"/api/register-owner",a.value).then(o=>{o.data.status?(i.value=!0,r.add({severity:"success",summary:" أنشاء حساب جديد بنجاح ",detail:"تم أنشاء حساب جديد بأسم : "+a.value.name,life:3e3}),c.value=o.data.token,f.value=o.data.isOwner,f.value==1&&(r.add({severity:"success",summary:"تم أنشاء حساب جديد",detail:"تم أنشاء حساب جديد باسم : "+a.value.name,life:3e3}),localStorage.setItem("token",JSON.stringify(c.value)),localStorage.setItem("slug",JSON.stringify("owner")),setTimeout(()=>{m.push({path:"/dashHome"})},3e3))):(r.add({severity:"error",summary:"كلمة المرور والبريد الاكتروني غير متطابقين",detail:o.data.message,life:4e3}),s.value=!1)}).catch(o=>{r.add({severity:"error",summary:"Error fetching data:",detail:o,life:4e3}),s.value=!1}),s.value=!1,i.value=!1},g=()=>{m.push({path:"/"})};return(o,e)=>{const y=R,u=$,w=j;return p(),h(N,null,[d(S),d(y),i.value?(p(),I(U,{key:0,"loading-overlay":!0,size:"sm",text:"يرجى الإنتظار",center:!0})):B("",!0),t("div",z,[t("div",E,[t("div",F,[t("div",J,[t("div",M,[t("img",{src:L(v)?"/demo/images/Ma3ak-dark.png":"/demo/images/Ma3ak-light.png",class:"mb-6 w-[25%] shrink-0 mx-auto"},null,8,q),e[5]||(e[5]=t("div",{class:"text-surface-900 dark:text-surface-0 text-3xl font-medium mb-4"},"! أنشاء حساب جديد في معـــــاك",-1)),t("span",{class:"go text-muted-color font-medium",onClick:g}," لديك حساب من قبل ؟ ")]),t("div",A,[e[6]||(e[6]=t("label",{for:"name",class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"الأسم",-1)),d(u,{style:{"border-color":"var(--p-content-border-color)"},id:"name",type:"text",placeholder:"الأسم الكامل",class:"input_border w-full md:w-[30rem] mb-4 text-end",modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.name=l)},null,8,["modelValue"]),e[7]||(e[7]=t("label",{for:"email",class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"البريد الأكتروني",-1)),d(u,{style:{"border-color":"var(--p-content-border-color)"},id:"email",type:"text",placeholder:"البريد الاكتروني",class:"input_border w-full md:w-[30rem] mb-4 text-end",modelValue:a.value.email,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.email=l)},null,8,["modelValue"]),e[8]||(e[8]=t("label",{for:"password1",class:"text-end block text-surface-900 dark:text-surface-0 font-medium text-xl mb-2"},"كلمة المرور",-1)),d(u,{style:{"border-color":"var(--p-content-border-color)"},id:"password1",type:"password",placeholder:"كلمة المرور",class:"input_border w-full md:w-[30rem] mb-4 text-end",modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.password=l)},null,8,["modelValue"]),e[9]||(e[9]=t("label",{for:"password1",class:"text-end block text-surface-900 dark:text-surface-0 font-medium text-xl mb-2"}," تاكيد كلمة المرور ",-1)),d(u,{style:{"border-color":"var(--p-content-border-color)"},id:"password1",type:"password",placeholder:" تاكيد كلمة المرور  ",class:"input_border w-full md:w-[30rem] mb-3 text-end",modelValue:a.value.confirm_password,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.confirm_password=l)},null,8,["modelValue"])]),d(w,{label:"أنشاء حساب جديد",class:"w-full mt-4",loading:s.value,onClick:e[4]||(e[4]=l=>b()),style:{background:"rgb(0 168 193)",color:"white"}},null,8,["loading"])])])])])],64)}}},Q=k(D,[["__scopeId","data-v-910c7711"]]);export{Q as default};
