import{s as ut,a as rt}from"./index-BzFk5kdO.js";import{s as dt}from"./index-C26F9luB.js";import{s as vt}from"./index-r73S6BP0.js";import{s as ct,a as mt,b as pt,c as ft}from"./index-CB5vDHoa.js";import{_ as yt,a as bt,z as xt,r as i,j as gt,k as Ct,w as $e,o as ht,f as k,c as T,h as a,A as F,B as j,l as p,b as l,m as le,i as _t,n as kt,g as x,t as b,C as G,F as Be,e as al,D as te,E as wt,G as Tt,H as $t,d as jt,p as Vt,q as zt,v as St,s as Ut,I as Nt,x as Lt}from"./index-D_U1zdNx.js";import{s as At}from"./index-Cl0uhxe3.js";import{s as qt}from"./index-C7h28JEv.js";import{s as Bt}from"./index-C5IQRWw3.js";import{L as Dt}from"./loadding-C6hPet41.js";import{l as H,N as J}from"./NotFound-BxWnR9wf.js";const Et={class:"grid text-end"},Ot={class:"col-12",style:{"text-align":"end"}},Mt={class:"w-full mt-3 mb-3"},Ft={class:"w-full mt-2 mb-2"},It={class:"w-full mt-2 mb-2"},Rt={class:"w-full mt-2 mb-2"},Wt={class:"w-full mt-2 mb-2"},Gt={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Ht={class:"col-12",style:{"text-align":"end"}},Jt={class:"w-full mt-2 mb-4"},Kt={key:0},Qt={class:"w-full mt-2 mb-2"},Xt={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},Yt={class:"w-full mt-2 mb-2"},Zt={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},Pt={key:0,class:"w-full mt-2 mb-2"},ea={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},la={key:1,class:"w-full mt-2 mb-2"},ta={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},aa={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},sa={class:"flex gap-2"},na={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},oa={class:"col-12",style:{"text-align":"end"}},ia={class:"w-full mt-2 mb-4"},ua={class:"w-full mt-2 mb-2"},ra={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},da={class:"w-full mt-2 mb-2"},va={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},ca={key:0,class:"w-full mt-2 mb-2"},ma={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},pa={key:1,class:"w-full mt-2 mb-2"},fa={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},ya={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},ba={class:"flex gap-2"},xa={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},ga={class:"col-12",style:{"text-align":"end"}},Ca={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},ha={class:"flex gap-2"},_a={class:"flex flex-col gap-8 pt-4"},ka={key:0},wa={class:"flex flex-wrap gap-4"},Ta={class:"relative mx-auto"},$a=["alt","src"],ja={class:"font-medium text-ellipsis max-w-40 whitespace-nowrap overflow-hidden"},Va={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},za={class:"col-12",style:{"text-align":"end"}},Sa={class:"w-full"},Ua={class:"w-full"},Na={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},La={class:"col-12",style:{"text-align":"end"}},Aa={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},qa={class:"col-12",style:{"text-align":"end"}},Ba={class:"w-full"},Da={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Ea={class:"col-12"},Oa={class:"card"},Ma={class:"loading-state"},Fa={class:"empty-state"},Ia={style:{"justify-content":"space-between"},class:"flex mt-2 flex-column md:flex-row md:justify-content-between md:align-items-center"},Ra={class:"text-right"},Wa={key:0,class:"flex gap-4"},Ga={key:1,class:"flex gap-4"},Ha={style:{"justify-content":"center"},class:"w-full juastify-center flex font-medium"},Ja={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},Ka={class:"mb-4"},Qa={class:"audio-player"},Xa=["href"],Ya={class:"mb-4 font-medium",style:{"text-align":"start",direction:"rtl"}},Za={class:"flex justify-between items-center"},Pa={class:"mt-0 text-xl"},es={class:"loading-state"},ls={class:"empty-state"},ts={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},as={class:"mb-4"},ss={class:"audio-player"},ns={controls:""},os=["src"],is={class:"mb-4 font-medium"},us={class:"flex justify-between items-center"},rs={class:"mt-0 text-xl"},ds={class:"loading-state"},vs={class:"empty-state"},cs={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},ms={class:"mb-4"},ps={class:"audio-player"},fs=["href"],ys={class:"mb-4 font-medium"},bs={class:"flex justify-between items-center"},xs={class:"mt-0 text-xl"},gs={class:"loading-state"},Cs={class:"empty-state"},hs={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},_s={class:"mb-4"},ks={class:"audio-player"},ws=["href"],Ts={class:"mb-4 font-medium"},$s={class:"flex justify-between items-center"},js={class:"mt-0 text-xl"},Vs={class:"loading-state"},zs={class:"empty-state"},Ss={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},Us={class:"mb-4"},Ns={class:"relative mx-auto"},Ls=["src"],As={class:"dark:bg-surface-900 absolute rounded-border",style:{left:"5px",top:"5px"}},qs={class:"mb-4 font-medium"},Bs={class:"flex justify-between items-center"},Ds={class:"mt-0 text-xl"},Es={class:"loading-state"},Os={class:"empty-state"},Ms={style:{"justify-content":"space-between"},class:"flex mb-4 col-12 flex-column gap-16 p-2 md:justify-content-between md:align-items-center"},Fs={class:"th"},Is={class:"td"},Rs={class:"tg mt-3"},Ws={class:"font-medium text-1xl"},Gs={class:"tg mt-3"},Hs={class:"font-medium text-1xl"},Js={key:1,class:"loading-state"},Ks={key:2,class:"empty-state"},Qs={class:"col-12",style:{"text-align":"end"}},Xs={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Ys={style:{"justify-content":"space-between"},class:"flex mb-4 col-12 flex-column gap-16 p-2 md:justify-content-between md:align-items-center"},Zs={class:"td mt-1"},Ps={class:"font-medium text-1xl cursor-pointer"},en={class:"th mt-1 font-medium text-1xl"},ln={class:"th mt-1 font-medium text-1xl"},tn={class:"th mt-1 font-medium text-1xl"},an={class:"td mt-1 font-medium text-1xl"},sn={class:"td mt-1 font-medium text-1xl"},nn={class:"th mt-1 font-medium text-1xl"},on={__name:"subjects",setup(un){const K=bt(),cl=xt(),Q=i(!1),{proxy:h}=_t(),f=gt(),_=JSON.parse(localStorage.getItem("token")),ae=Ct();i("");const C=i([]),X=i([]),U=i({prevName:"",nextName:"",prevTrem_name:"",nextTrem_name:null,slug:""}),n=i({prevName:"",nextName:"",prevContentType:"",nextContentType:null,prevContentSubType:"",nextContentSubType:null,prevContentLink:null,nextContentLink:null,prevfile:null,nextContentfile:null,slug:""}),N=i(!1);i(null);const je=i([{id:1,name:"ملفات",name2:"pdf"},{id:2,name:"صوتيات ",name2:"audio"},{id:3,name:"تطبيقات ",name2:"app"},{id:4,name:"روابط ",name2:"link"}]),De=i([{id:1,name:"نماذج اختبارات",name2:"exam"},{id:2,name:"ملخصات ",name2:"summary"},{id:3,name:"مراجع ",name2:"reviewer"},{id:5,name:"ادوات ",name2:"tools"},{id:6,name:"شروحات ",name2:"commentary"},{id:7,name:"تطبيقات الجوال",name2:"mobile"},{id:8,name:"برامج الكمبيوتر ",name2:"computer"}]);function se(t){const e=De.value.find(u=>u.name2===t);return e?e.name:null}function ml(t){return je.value.find(u=>u.id===t)}const Y=i(""),ne=i(!1),oe=i(!1),ie=i(!1),V=i({files:[],courses:[],audios:[],links:[],apps:[],Videos:[]}),Z=i(!1),pl=()=>{Z.value=!Z.value},Ve=i(!1),Ee=i(""),sl=i(""),I=i(""),Oe=i(""),fl=(t,e,u)=>{Ee.value=t,sl.value=e,Oe.value=u,I.value="",Ve.value=!Ve.value},yl=(t,e)=>{ae.require({target:t.target,message:"هل انت متأكد من حذف الفديو",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{d.value=!0,k.request({url:h.$localhost+"/api/admin/delete-video/"+e,method:"get",headers:{Authorization:"Bearer "+_}}).then(u=>{var v;u&&(f.add({severity:"success",summary:"حذف الفديو",detail:"تم حذف الفديو بنجاح  ",life:3e3}),E((v=C.value[0])==null?void 0:v.slug)),d.value=!1}),d.value=!1},reject:()=>{}})},ze=(t,e)=>{ae.require({target:t.target,message:"هل انت متأكد من حذف المحتوى",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{d.value=!0,k.request({url:h.$localhost+"/api/admin/delete-content/"+e,method:"get",headers:{Authorization:"Bearer "+_}}).then(u=>{var v;u&&(f.add({severity:"success",summary:"حذف المحتوى",detail:"تم حذف المحتوى بنجاح  ",life:3e3}),E((v=C.value[0])==null?void 0:v.slug)),d.value=!1}),d.value=!1},reject:()=>{}})},$=i([]),bl=()=>{var t,e,u;U.value.prevName=(t=C.value[0])==null?void 0:t.subject_name,U.value.prevTrem_name=(e=C.value[0])==null?void 0:e.term_name,U.value.slug=(u=C.value[0])==null?void 0:u.slug,ie.value=!ie.value},ue=i(!1),Se=(t,e,u,v,y)=>{var r,L,W;n.value.prevName=t,n.value.nextContentType=ml(v),n.value.prevContentType=(r=n.value.nextContentType)==null?void 0:r.name,((L=n.value.nextContentType)==null?void 0:L.id)===1||((W=n.value.nextContentType)==null?void 0:W.id)===2?n.value.prevfile=e:n.value.prevContentLink=e,n.value.prevContentSubType=se(u),n.value.slug=y,ue.value=!ue.value},M=i(!1),xl=()=>{var t,e,u;(t=C.value[0])!=null&&t.content_type&&((e=C.value[0])==null||e.content_type.forEach(v=>{const y=je.value.find(r=>r.name2===v.content_type);y&&(y.slug=v.slug)})),E((u=C.value[0])==null?void 0:u.slug),M.value=!M.value},gl=()=>{ne.value=!ne.value},B=i({name:"",des:""}),re=i(!1),Cl=()=>{re.value=!re.value},nl=i(!1),ol=i(""),hl=t=>{ol.value=t,Me(t),g.value="6",nl.value=!0},_l=()=>{oe.value=!oe.value},Me=async t=>{N.value=!0;try{const e=await k.get(h.$localhost+"/api/admin/videos/"+t,{headers:{Authorization:"Bearer "+_}});e.status===200&&(V.value.Videos=e.data.data)}catch(e){console.error("Error fetching Majors:",e),f.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}N.value=!1},kl=async()=>{var t,e;try{d.value=!0,new FormData().append("video_url",P.value),q.value=new AbortController,(await k.request({url:h.$localhost+"/api/admin/create-video/"+X.value[0],method:"post",headers:{Authorization:"Bearer "+_,"Content-Type":"multipart/form-data"},signal:q.value.signal,data:{video_url:P.value}})).data.status&&(f.add({severity:"success",summary:"إنشاء الفديو",detail:"تم إنشاء الفديو جديد بنجاح  :  ",life:3e3}),P.value=null,Z.value=!1,Me(X.value[0]),X.value=null)}catch(u){u.name==="CanceledError"||u.code==="ERR_CANCELED"?f.add({severity:"warn",summary:"تم الإلغاء",detail:"تم إلغاء رفع الفيديو",life:3e3}):f.add({severity:"error",summary:"إنشاء الفيديو",detail:((e=(t=u==null?void 0:u.response)==null?void 0:t.data)==null?void 0:e.message)||u.message||"حدث خطأ",life:3e3})}finally{d.value=!1,q.value=null}},d=i(!1),wl=async t=>{try{if(d.value=!0,Y.value==="")f.add({severity:"error",summary:"خطاء في تسجيل المادة",detail:"الرجاء إضافة إسم المادة الجديد",life:3e3});else if(t==null||t==null)f.add({severity:"error",summary:"خطاء في تسجيل المادة",detail:"الرجاء إختيار إسم الترم  ",life:3e3});else{const e=await k.request({url:h.$localhost+"/api/admin/create-subject/"+t,method:"post",headers:{Authorization:"Bearer "+_},data:{subject_name:Y.value}});e.data.status&&(f.add({severity:"success",summary:"إنشاء المادة",detail:"تم إنشاء المادة جديد بنجاح بإسم :  "+Y.value,life:3e3}),Ol(e.data.data),Y.value="",ve.value=null,ne.value=!1)}}catch(e){f.add({severity:"error",summary:"إنشاء المادة",detail:e,life:3e3}),d.value=!1}finally{d.value=!1,Q.value=!1}d.value=!1},Tl=async t=>{var e,u,v,y;try{d.value=!0,n.value.nextName===""?f.add({severity:"error",summary:"خطاء في تسجيل المحتوى",detail:"الرجاء إضافة إسم المحتوى الجديد",life:3e3}):(new FormData().append("content_url",n.value.nextContentfile),(await k.request({url:h.$localhost+"/api/admin/create-content/"+t,method:"post",headers:{Authorization:"Bearer "+_,"Content-Type":"multipart/form-data"},data:{content_name:n.value.nextName,content_url:((e=n.value.nextContentType)==null?void 0:e.id)===1||((u=n.value.nextContentType)==null?void 0:u.id)===2?n.value.nextContentfile:n.value.nextContentLink,subtype:(v=n.value.nextContentSubType)==null?void 0:v.name2}})).data.status&&(f.add({severity:"success",summary:"إنشاء المحتوى",detail:"تم إنشاء المحتوى جديد بنجاح  :  ",life:3e3}),n.value.nextName="",n.value.nextContentLink=null,n.value.nextContentfile=null,n.value.nextContentType=null,oe.value=!1,E((y=C.value[0])==null?void 0:y.slug)))}catch(r){f.add({severity:"error",summary:"إنشاء المادة",detail:r,life:3e3}),d.value=!1}finally{d.value=!1,Q.value=!1}d.value=!1},$l=async()=>{var t,e,u,v;try{d.value=!0,new FormData().append("content_url",n.value.nextContentfile),(await k.request({url:h.$localhost+"/api/admin/update-content/"+n.value.slug,method:"post",headers:{Authorization:"Bearer "+_,"Content-Type":"multipart/form-data"},data:{content_name:n.value.nextName,content_url:((t=n.value.nextContentType)==null?void 0:t.id)===1||((e=n.value.nextContentType)==null?void 0:e.id)===2?n.value.nextContentfile:n.value.nextContentLink,subtype:(u=n.value.nextContentSubType)==null?void 0:u.name2}})).data.status&&(f.add({severity:"success",summary:"تعديل المحتوى",detail:"تم تعديل المحتوى بنجاح  ",life:3e3}),n.value.nextName="",n.value.nextContentLink=null,n.value.nextContentfile=null,n.value.nextContentType=null,n.value.slug="",ue.value=!1,E((v=C.value[0])==null?void 0:v.slug))}catch(y){f.add({severity:"error",summary:"إنشاء المحتوى",detail:y,life:3e3}),d.value=!1}finally{d.value=!1,Q.value=!1}d.value=!1},jl=async()=>{var t;try{d.value=!0,(await k.request({url:h.$localhost+"/api/admin/create-course2subject/"+((t=C.value[0])==null?void 0:t.slug),method:"post",headers:{Authorization:"Bearer "+_},data:{course_name:B.value.name,des:B.value.des}})).data.status&&(f.add({severity:"success",summary:"إنشاء كورس",detail:"تم إنشاء كورس جديد بنجاح بإسم :  "+B.value.name,life:3e3}),B.value.name="",B.value.des="",re.value=!1,E(C.value[0].slug))}catch(e){f.add({severity:"error",summary:"إنشاء كورس",detail:e,life:3e3}),d.value=!1}finally{d.value=!1,Q.value=!1}d.value=!1},Vl=async()=>{d.value=!0;try{const t=await k.request({url:h.$localhost+"/api/admin/update-subject/"+U.value.slug,method:"post",headers:{Authorization:"Bearer "+_},data:{subject_name:U.value.nextName}});t&&(f.add({severity:"success",summary:"تعديل المادة",detail:"تم تعديل المادة بنجاح  ",life:3e3}),Fl(U.value.slug,t.data.data),ie.value=!1,U.value.nextName="",U.value.prevName="",U.value.prevTrem_name="",U.value.slug="",U.nextTrem_name=null,C.value=null)}catch(t){f.add({severity:"error",summary:"تعديل المادة",detail:t,life:3e3})}finally{d.value=!1}d.value=!1},il=async t=>{N.value=!0;try{let e=K.extractDateInput(K.from),u=K.extractDateInput(K.to);const v=await k.get(h.$localhost+"/api/admin/subjects",{headers:{Authorization:"Bearer "+_},params:{from:t?e:null,to:t?u:null}});v.status===200&&($.value=Object.values(v.data.data).map(y=>(y.search=`${y.subject_name} ${y.term_name} ${y.level_name} ${y.major_name} ${y.college_name} ${y.uni_name}`,y)),A.value=$.value)}catch(e){console.error("Error fetching universities:",e),f.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}N.value=!1,K.displayReport=!1},D=i({prevName:"",nextName:"",slug:""}),de=i(!1),zl=(t,e)=>{D.value.prevName=e,D.value.slug=t,de.value=!de.value},E=async t=>{N.value=!0;try{const e=await k.get(h.$localhost+"/api/admin/contents/"+t,{headers:{Authorization:"Bearer "+_}});e.status===200&&(e.data.data.contents.forEach(u=>{switch(u.content_type){case"link":V.value.links=u;break;case"app":V.value.apps=u;break;case"pdf":V.value.files=u;break;case"audio":V.value.audios=u;break}}),V.value.courses=e.data.data.course)}catch(e){console.error("Error fetching universities:",e),f.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}N.value=!1},Sl=async()=>{d.value=!0;try{await k.request({url:h.$localhost+"/api/admin/update-course/"+D.value.slug,method:"post",headers:{Authorization:"Bearer "+_},data:{course_name:D.value.nextName}})&&(f.add({severity:"success",summary:"تعديل كورس",detail:"تم تعديل كورس بنجاح  ",life:3e3}),D.value.nextName="",D.value.slug="",E(C.value[0].slug),de.value=!1)}catch(t){f.add({severity:"error",summary:"تعديل كورس",detail:t,life:3e3})}finally{d.value=!1}d.value=!1},Ul=(t,e)=>{ae.require({target:t.target,message:"هل انت متأكد من حذف كورس",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{d.value=!0,k.request({url:h.$localhost+"/api/admin/delete-course/"+e,method:"get",headers:{Authorization:"Bearer "+_}}).then(u=>{u&&(f.add({severity:"success",summary:"حذف كورس",detail:"تم حذف كورس بنجاح  ",life:3e3}),E(C.value[0].slug)),d.value=!1}),d.value=!1},reject:()=>{}})},Nl=(t,e)=>{ae.require({target:t.target,message:"هل انت متأكد من حذف المادة",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:async()=>{d.value=!0;try{(await k.request({url:h.$localhost+"/api/admin/delete-subject/"+e,method:"get",headers:{Authorization:"Bearer "+_}})).data.status?(f.add({severity:"success",summary:"حذف المادة",detail:"تم حذف المادة بنجاح  ",life:3e3}),Ml(e),C.value=null):f.add({severity:"error",summary:"حذف المادة",detail:"لا يمكن حذف المادة لانه مرتبط بمحتوى ",life:3e3})}catch(u){f.add({severity:"error",summary:"خطأ في حذف الالمادة",detail:u.message,life:3e3})}finally{d.value=!1}d.value=!1},reject:()=>{}})},Ll=async()=>{try{d.value=!0,(await k.request({url:h.$localhost+`/api/admin/update-video/${Oe.value}/${Ee.value}`,method:"post",headers:{Authorization:"Bearer "+_},data:{video_title:I.value}})).data.status&&(f.add({severity:"success",summary:"تعديل الفديو",detail:"تم تعديل إسم الفديو بنجاح :  "+I.value,life:3e3}),I.value="",Oe.value="",Ee.value="",Z.value=!1,Me(ol.value))}catch(t){f.add({severity:"error",summary:"تعديل الفديو",detail:t,life:3e3}),d.value=!1}finally{d.value=!1,Q.value=!1}d.value=!1},R=i([]),Fe=i([]),A=i([]),Al=()=>{R.value=[...A.value],$.value=A.value},ql=t=>{setTimeout(()=>{t.query.trim().length!=null||t.query.trim().length!=""?t.inputType==="backspace"||t.query.trim().length===null?(R.value=[...A.value],$.value=A.value):(R.value=A.value.filter(e=>e.search.toLowerCase().includes(t.query.toLowerCase())),$.value=R.value):$.value=A.value},50)};$e(Fe.value,t=>{t.length!==0?(R.value=t.filter(e=>e.search),$.value=R.value):$.value=A.value},{deep:!0});const ve=i(null),Ie=i([]);function Bl(t){setTimeout(()=>{t.query.trim().length?Ie.value=Re.value.filter(e=>e.term_name.toLowerCase().includes(t.query.toLowerCase())):Ie.value=[...Re.value]},250)}const Re=i([]),We=i(!1),Dl=async t=>{ve.value=null,We.value=!0;try{const e=await k.get(h.$localhost+"/api/admin/terms",{headers:{Authorization:"Bearer "+_}});e.status===200&&(Re.value=e.data.data)}catch(e){console.error("Error fetching Trems:",e),f.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}We.value=!1},g=i("1"),Ge=i(h.$localhost);ht(()=>{il(),Wl()});const ul=t=>{n.value.nextContentfile=t.files[0]},P=i([]),El=t=>{P.value=t.files},rl=(t,e,u)=>{let v="",y="",r="";u=="active"?(v="هل انت متأكد من حظر الكورس",y=" تم حظر الكورس بنجاح  ",r="inactive"):(v="هل انت متأكد من تفعيل الكورس",y=" تم تفعيل الكورس بنجاح  ",r="active"),ae.require({target:t.target,message:v,icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{k.request({url:h.$localhost+"/api/admin/update-course/"+e,method:"post",headers:{Authorization:"Bearer "+_},data:{status:r}}).then(L=>{L&&(f.add({severity:"success",summary:"حالة الكورس",detail:y,life:3e3}),E(C.value[0].slug))})},reject:()=>{}})};function Ol(t){let u=(Array.isArray(t)?t:[t]).map(v=>(v.search=`${v.subject_name} ${v.term_name} ${v.level_name} ${v.major_name} ${v.college_name} ${v.uni_name}`,v));$.value=[...u,...$.value],A.value=$.value}function Ml(t){const e=$.value.findIndex(u=>u.slug===t);e!==-1&&$.value.splice(e,1),A.value=$.value}function Fl(t,e){const u=$.value.findIndex(v=>v.slug===t);if(u!==-1){const v={...e,search:`${e.subject_name} ${e.term_name} ${e.level_name} ${e.major_name} ${e.college_name} ${e.uni_name}`};$.value.splice(u,1,v),A.value=$.value}}const ce=i(null),He=i([]);function Il(t){setTimeout(()=>{t.query.trim().length?He.value=Je.value.filter(e=>e.college_name.toLowerCase().includes(t.query.toLowerCase())):He.value=[...Je.value]},250)}const Je=i([]),Ue=i(!1),Rl=async t=>{ce.value=null,Ue.value=!0;try{const e=await k.get(h.$localhost+"/api/admin/colleges/"+t,{headers:{Authorization:"Bearer "+_}});e.status===200&&(Je.value=e.data)}catch(e){console.error("Error fetching Colleges:",e),f.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}Ue.value=!1},Ke=i([]),dl=i(!1),Wl=async()=>{dl.value=!0;try{const t=await k.get(h.$localhost+"/api/admin/universties",{headers:{Authorization:"Bearer "+_}});t.status===200&&(Ke.value=t.data.data)}catch(t){console.error("Error fetching universities:",t),f.add({severity:"error",summary:"Error",detail:t.message,life:4e3})}dl.value=!1},Ne=i(null),Qe=i([]);function Gl(t){setTimeout(()=>{t.query.trim().length?Qe.value=Ke.value.filter(e=>e.uni_name.toLowerCase().includes(t.query.toLowerCase())):Qe.value=[...Ke.value]},250)}const me=i(null),Xe=i([]);function Hl(t){setTimeout(()=>{t.query.trim().length?Xe.value=Ye.value.filter(e=>e.major_name.toLowerCase().includes(t.query.toLowerCase())):Xe.value=[...Ye.value]},250)}const Ye=i([]),Le=i(!1),Jl=async t=>{me.value=null,Le.value=!0;try{const e=await k.get(h.$localhost+"/api/admin/majors/"+t,{headers:{Authorization:"Bearer "+_}});e.status===200&&(Ye.value=e.data.data)}catch(e){console.error("Error fetching Majors:",e),f.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}Le.value=!1},pe=i(null),Ze=i([]);function Kl(t){setTimeout(()=>{t.query.trim().length?Ze.value=Pe.value.filter(e=>e.level_name.toLowerCase().includes(t.query.toLowerCase())):Ze.value=[...Pe.value]},250)}const Pe=i([]),fe=i(!1),Ql=async t=>{pe.value=null,fe.value=!0;try{const e=await k.get(h.$localhost+"/api/admin/levels/"+t,{headers:{Authorization:"Bearer "+_}});e.status===200&&(Pe.value=e.data.data)}catch(e){console.error("Error fetching Levels:",e),f.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}fe.value=!1};$e(Ne,(t,e)=>{t!=null&&t.id&&t!==e&&Rl(t.id)}),$e(ce,(t,e)=>{t!=null&&t.college_id&&t!==e&&Jl(t.college_id)}),$e(me,(t,e)=>{t!=null&&t.id&&t!==e&&Ql(t.id)}),$e(pe,(t,e)=>{t!=null&&t.id&&t!==e&&Dl(t.id)});const q=i(null),Xl=i(0),Yl=i(0);function Zl(t){q.value=new AbortController,t({options:{signal:q.value.signal}})}function Pl(){q.value&&(q.value.abort(),q.value=null)}const et=(t,e,u)=>{e(u),P.value=null,Xl.value=0,Yl.value=0,q.value&&(q.value.abort(),q.value=null)},lt=t=>{const v=cl.config.locale.fileSizeTypes;if(t===0)return`0 ${v[0]}`;const y=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,y)).toFixed(3))} ${v[y]}`};return(t,e)=>{const u=zt,v=St,y=rt,r=Ut,L=kt,W=Bt,el=qt,tt=Nt,at=At,Ae=Lt,ee=ct,st=mt,nt=pt,ye=ft,ot=vt,vl=dt,it=ut;return x(),T("div",Et,[a(u),Q.value?(x(),F(Dt,{key:0,"loading-overlay":!0,size:"sm",text:"يرجى الإنتظار",center:!0})):j("",!0),a(L,{header:"إضافة المادة",visible:ne.value,"onUpdate:visible":e[12]||(e[12]=o=>ne.value=o),style:{width:"70vh"},modal:!0},{default:p(()=>[l("div",Ot,[e[53]||(e[53]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم المادة ",-1)),a(v,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:"الإسم",class:"input_border w-full mb-3 text-end",modelValue:Y.value,"onUpdate:modelValue":e[0]||(e[0]=o=>Y.value=o)},null,8,["modelValue"]),l("div",Mt,[e[48]||(e[48]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم الجامعة ",-1)),a(y,{class:"w-full text-end",modelValue:Ne.value,"onUpdate:modelValue":e[1]||(e[1]=o=>Ne.value=o),suggestions:Qe.value,optionLabel:"uni_name",placeholder:"إختيار الجامعة",dropdown:"",onComplete:e[2]||(e[2]=o=>Gl(o))},null,8,["modelValue","suggestions"])]),l("div",Ft,[e[49]||(e[49]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم الكلية ",-1)),a(y,{class:"w-full text-end",modelValue:ce.value,"onUpdate:modelValue":e[3]||(e[3]=o=>ce.value=o),loading:Ue.value,disabled:Ue.value||!Ne.value,suggestions:He.value,optionLabel:"college_name",placeholder:" إختيار الكلية",dropdown:"",onComplete:e[4]||(e[4]=o=>Il(o))},null,8,["modelValue","loading","disabled","suggestions"])]),l("div",It,[e[50]||(e[50]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم التخصص ",-1)),a(y,{class:"w-full text-end",modelValue:me.value,"onUpdate:modelValue":e[5]||(e[5]=o=>me.value=o),loading:Le.value,disabled:Le.value||!ce.value,suggestions:Xe.value,optionLabel:"major_name",placeholder:" إختيار التخصص",dropdown:"",onComplete:e[6]||(e[6]=o=>Hl(o))},null,8,["modelValue","loading","disabled","suggestions"])]),l("div",Rt,[e[51]||(e[51]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم المستوى ",-1)),a(y,{class:"w-full text-end",modelValue:pe.value,"onUpdate:modelValue":e[7]||(e[7]=o=>pe.value=o),loading:fe.value,disabled:fe.value||!me.value,suggestions:Ze.value,optionLabel:"level_name",placeholder:" إختيار المستوى",dropdown:"",onComplete:e[8]||(e[8]=o=>Kl(o))},null,8,["modelValue","loading","disabled","suggestions"])]),l("div",Wt,[e[52]||(e[52]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم الترم ",-1)),a(y,{class:"w-full text-end",loading:fe.value,disabled:We.value||!pe.value,modelValue:ve.value,"onUpdate:modelValue":e[9]||(e[9]=o=>ve.value=o),suggestions:Ie.value,optionLabel:"term_name",placeholder:" إختيار الترم",dropdown:"",onComplete:e[10]||(e[10]=o=>Bl(o))},null,8,["loading","disabled","modelValue","suggestions"])]),l("div",Gt,[a(r,{loading:d.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:e[11]||(e[11]=o=>{var m;return wl((m=ve.value)==null?void 0:m.slug)}),label:"إنشاء المادة"},null,8,["loading"])])])]),_:1},8,["visible"]),a(L,{header:"إضافة المحتوى",visible:oe.value,"onUpdate:visible":e[18]||(e[18]=o=>oe.value=o),style:{width:"70vh"},modal:!0},{default:p(()=>{var o,m,z,s,c,S,O,be,xe,ge,Ce,he,_e,ke;return[l("div",Ht,[l("div",Jt,[e[54]||(e[54]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," نوع المحتوى ",-1)),a(W,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:n.value.nextContentType,"onUpdate:modelValue":e[13]||(e[13]=w=>n.value.nextContentType=w),options:je.value,optionLabel:"name",placeholder:"إختيار نوع المحتوى"},null,8,["modelValue","options"])]),n.value.nextContentType!==null?(x(),T("div",Kt,[l("div",Qt,[l("label",Xt," إسم "+b(((o=n.value.nextContentType)==null?void 0:o.id)===3?"التطبيق":((m=n.value.nextContentType)==null?void 0:m.id)===1?"الملف":((z=n.value.nextContentType)==null?void 0:z.id)===2?"صوت":"الرابط"),1),a(v,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:"الإسم",class:"input_border w-full mb-3 text-end",modelValue:n.value.nextName,"onUpdate:modelValue":e[14]||(e[14]=w=>n.value.nextName=w)},null,8,["modelValue"])]),l("div",Yt,[l("label",Zt," نوع "+b(((s=n.value.nextContentType)==null?void 0:s.id)===3?"التطبيق":((c=n.value.nextContentType)==null?void 0:c.id)===1?"الملف":((S=n.value.nextContentType)==null?void 0:S.id)===2?"صوت":"الرابط"),1),a(W,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:n.value.nextContentSubType,"onUpdate:modelValue":e[15]||(e[15]=w=>n.value.nextContentSubType=w),options:De.value,optionLabel:"name",placeholder:" النوع "},null,8,["modelValue","options"])]),((O=n.value.nextContentType)==null?void 0:O.id)===3||((be=n.value.nextContentType)==null?void 0:be.id)===4?(x(),T("div",Pt,[l("label",ea,b(((xe=n.value.nextContentType)==null?void 0:xe.id)===3?"التطبيق":"الرابط"),1),a(v,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:((ge=n.value.nextContentType)==null?void 0:ge.id)===3?"اللصق رابط التطبيق":"اللصق الرابط",modelValue:n.value.nextContentLink,"onUpdate:modelValue":e[16]||(e[16]=w=>n.value.nextContentLink=w),class:"input_border w-full mb-3 text-end"},null,8,["placeholder","modelValue"])])):j("",!0),((Ce=n.value.nextContentType)==null?void 0:Ce.id)===1||((he=n.value.nextContentType)==null?void 0:he.id)===2?(x(),T("div",la,[l("label",ta,b(((_e=n.value.nextContentType)==null?void 0:_e.id)===1?"الملفات":"الصوتيات"),1),a(el,{name:"demo[]",multiple:!0,accept:((ke=n.value.nextContentType)==null?void 0:ke.id)===1?"application/pdf":"audio/*",onSelect:ul},{header:p(({chooseCallback:w,uploadCallback:qe,clearCallback:ll,files:we})=>{var Te;return[l("div",aa,[l("div",sa,[a(r,{onClick:tl=>w(),icon:((Te=n.value.nextContentType)==null?void 0:Te.id)===1?"pi pi-file-pdf":"pi pi-microphone",rounded:"",outlined:"",severity:"secondary"},null,8,["onClick","icon"]),a(r,{onClick:tl=>ll(),icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!we||we.length===0},null,8,["onClick","disabled"])])])]}),_:1},8,["accept"])])):j("",!0),l("div",na,[a(r,{loading:d.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:e[17]||(e[17]=w=>{var qe;return Tl((qe=n.value.nextContentType)==null?void 0:qe.slug)}),label:"إنشاء المحتوى"},null,8,["loading"])])])):j("",!0)])]}),_:1},8,["visible"]),a(L,{header:"تعديل المحتوى",visible:ue.value,"onUpdate:visible":e[23]||(e[23]=o=>ue.value=o),style:{width:"70vh"},modal:!0},{default:p(()=>{var o,m,z,s,c,S,O,be,xe,ge,Ce,he,_e,ke;return[l("div",oa,[l("div",ia,[e[55]||(e[55]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," نوع المحتوى ",-1)),a(W,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:n.value.nextContentType,"onUpdate:modelValue":e[19]||(e[19]=w=>n.value.nextContentType=w),disabled:!0,options:je.value,optionLabel:"name",placeholder:n.value.prevContentType},null,8,["modelValue","options","placeholder"])]),l("div",null,[l("div",ua,[l("label",ra," إسم "+b(((o=n.value.nextContentType)==null?void 0:o.id)===3?"التطبيق":((m=n.value.nextContentType)==null?void 0:m.id)===1?"الملف":((z=n.value.nextContentType)==null?void 0:z.id)===2?"صوت":"الرابط"),1),a(v,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:n.value.prevName,class:"input_border w-full mb-3 text-end",modelValue:n.value.nextName,"onUpdate:modelValue":e[20]||(e[20]=w=>n.value.nextName=w)},null,8,["placeholder","modelValue"])]),l("div",da,[l("label",va," نوع "+b(((s=n.value.nextContentType)==null?void 0:s.id)===3?"التطبيق":((c=n.value.nextContentType)==null?void 0:c.id)===1?"الملف":((S=n.value.nextContentType)==null?void 0:S.id)===2?"صوت":"الرابط"),1),a(W,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:n.value.nextContentSubType,"onUpdate:modelValue":e[21]||(e[21]=w=>n.value.nextContentSubType=w),options:De.value,optionLabel:"name",placeholder:n.value.prevContentSubType},null,8,["modelValue","options","placeholder"])]),((O=n.value.nextContentType)==null?void 0:O.id)===3||((be=n.value.nextContentType)==null?void 0:be.id)===4?(x(),T("div",ca,[l("label",ma,b(((xe=n.value.nextContentType)==null?void 0:xe.id)===3?"التطبيق":"الرابط"),1),a(v,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:((ge=n.value.nextContentType)==null?void 0:ge.id)===3?"اللصق رابط التطبيق":"اللصق الرابط",modelValue:n.value.nextContentLink,"onUpdate:modelValue":e[22]||(e[22]=w=>n.value.nextContentLink=w),class:"input_border w-full mb-3 text-end"},null,8,["placeholder","modelValue"])])):j("",!0),((Ce=n.value.nextContentType)==null?void 0:Ce.id)===1||((he=n.value.nextContentType)==null?void 0:he.id)===2?(x(),T("div",pa,[l("label",fa,b(((_e=n.value.nextContentType)==null?void 0:_e.id)===1?"الملفات":"الصوتيات"),1),a(el,{name:"demo[]",multiple:!0,accept:((ke=n.value.nextContentType)==null?void 0:ke.id)===1?"application/pdf":"audio/*",onSelect:ul},{header:p(({chooseCallback:w,uploadCallback:qe,clearCallback:ll,files:we})=>{var Te;return[l("div",ya,[l("div",ba,[a(r,{onClick:tl=>w(),icon:((Te=n.value.nextContentType)==null?void 0:Te.id)===1?"pi pi-file-pdf":"pi pi-microphone",rounded:"",outlined:"",severity:"secondary"},null,8,["onClick","icon"]),a(r,{onClick:tl=>ll(),icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!we||we.length===0},null,8,["onClick","disabled"])]),G(" "+b(n.value.prevfile),1)])]}),_:1},8,["accept"])])):j("",!0),l("div",xa,[a(r,{loading:d.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:$l,label:"تعديل المحتوى"},null,8,["loading"])])])])]}),_:1},8,["visible"]),a(L,{header:"إضافة فديو",visible:Z.value,"onUpdate:visible":e[24]||(e[24]=o=>Z.value=o),style:{width:"90vh"},modal:!0},{default:p(()=>[l("div",ga,[e[57]||(e[57]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," ارفع الفديوهات ",-1)),a(el,{name:"demo[]",multiple:!0,accept:"video/*",onSelect:El},{header:p(({chooseCallback:o,uploadCallback:m,clearCallback:z,files:s})=>[l("div",Ca,[l("div",ha,[a(r,{onClick:c=>o(),icon:"pi pi-images",rounded:"",outlined:"",severity:"secondary"},null,8,["onClick"]),a(r,{onClick:c=>Zl(m),style:{display:"none"},icon:"pi pi-cloud-upload",rounded:"",outlined:"",severity:"success",disabled:!s||s.length===0},null,8,["onClick","disabled"]),a(r,{onClick:Pl,icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!s||s.length===0},null,8,["disabled"])])])]),content:p(({files:o,uploadedFiles:m,removeUploadedFileCallback:z,removeFileCallback:s})=>[l("div",_a,[o.length>0?(x(),T("div",ka,[l("div",wa,[(x(!0),T(Be,null,al(o,(c,S)=>(x(),T("div",{key:c.name+c.type+c.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[l("div",Ta,[l("iframe",{role:"presentation",alt:c.name,src:c.objectURL,width:"auto",height:"50"},null,8,$a)]),l("span",ja,b(c.name),1),l("div",null,b(lt(c.size)),1),a(tt,{value:"Pending",severity:"warn"}),a(r,{icon:"pi pi-times",onClick:O=>et(c,s,S),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):j("",!0)])]),empty:p(()=>e[56]||(e[56]=[l("div",{class:"flex items-center justify-center flex-col"},[l("i",{class:"pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-4xl !text-muted-color"}),l("p",{class:"mt-6 mb-0"},"اسحب الفديو او اختر الملف")],-1)])),_:1}),l("div",Va,[a(r,{onClick:kl,loading:d.value,style:{"font-size":"medium"},disabled:!P.value,class:"w-full btn-icon",unstyled:!0,label:"حفظ الفديو"},null,8,["loading","disabled"])])])]),_:1},8,["visible"]),a(L,{header:"إضافة كورس",visible:re.value,"onUpdate:visible":e[27]||(e[27]=o=>re.value=o),style:{width:"70vh"},modal:!0},{default:p(()=>[l("div",za,[l("div",Sa,[e[58]||(e[58]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم كورس ",-1)),a(v,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:"الإسم",class:"input_border w-full mb-3 text-end",modelValue:B.value.name,"onUpdate:modelValue":e[25]||(e[25]=o=>B.value.name=o)},null,8,["modelValue"])]),l("div",Ua,[e[59]||(e[59]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," وصــف الكورس",-1)),a(at,{placeholder:"الوصف",modelValue:B.value.des,"onUpdate:modelValue":e[26]||(e[26]=o=>B.value.des=o),autoResize:!0,rows:"2",class:"w-full text-end"},null,8,["modelValue"])]),l("div",Na,[a(r,{loading:d.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:jl,label:"إنشاء كورس"},null,8,["loading"])])])]),_:1},8,["visible"]),a(L,{header:"تعديل كورس",visible:de.value,"onUpdate:visible":e[29]||(e[29]=o=>de.value=o),style:{width:"70vh"},modal:!0},{default:p(()=>[l("div",La,[e[60]||(e[60]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم كورس ",-1)),a(v,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:D.value.prevName,class:"input_border w-full mb-3 text-end",modelValue:D.value.nextName,"onUpdate:modelValue":e[28]||(e[28]=o=>D.value.nextName=o)},null,8,["placeholder","modelValue"]),l("div",Aa,[a(r,{loading:d.value,label:"تعديل كورس",style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:Sl},null,8,["loading"])])])]),_:1},8,["visible"]),a(L,{header:"تعديل الفديو",visible:Ve.value,"onUpdate:visible":e[32]||(e[32]=o=>Ve.value=o),style:{width:"70vh"},modal:!0},{default:p(()=>[l("div",qa,[l("div",Ba,[e[61]||(e[61]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم الفديو ",-1)),a(v,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:sl.value,class:"input_border w-full mb-3 text-end",modelValue:I.value,"onUpdate:modelValue":e[30]||(e[30]=o=>I.value=o)},null,8,["placeholder","modelValue"])]),l("div",Da,[a(r,{loading:d.value,style:{"font-size":"medium"},disabled:I.value==="",class:"w-full",severity:"help",onClick:e[31]||(e[31]=o=>Ll()),label:"تعديل الفديو"},null,8,["loading","disabled"])])])]),_:1},8,["visible"]),l("div",Ea,[l("div",Oa,[e[113]||(e[113]=l("h5",{style:{"font-size":"large"}},"المواد",-1)),a(it,{value:$.value,paginator:!M.value,rows:7},le({header:p(()=>{var o,m,z,s,c;return[l("div",Ia,[l("div",null,[a(y,{modelValue:Fe.value,"onUpdate:modelValue":e[33]||(e[33]=S=>Fe.value=S),optionLabel:"search",dropdown:"",display:"chip",forceSelection:!0,completeOnFocus:!1,panelStyle:{display:"none"},"dropdown-icon":"pi pi-search",suggestions:R.value,placeholder:"بحث",onComplete:e[34]||(e[34]=S=>ql(S)),onInput:Al,field:"search"},null,8,["modelValue","suggestions"])]),l("div",Ra,[M.value?j("",!0):(x(),T("div",Wa,[a(Ae),a(Vt,{title:"تقرير المواد",onSaveReport:e[35]||(e[35]=S=>il(!0)),loading:N.value},null,8,["loading"]),a(r,{severity:"help",class:"btn-icon p-3",icon:"pi pi-trash",loading:d.value,disabled:((o=C.value)==null?void 0:o.length)!=1,onClick:e[36]||(e[36]=S=>{var O;return Nl(S,(O=C.value[0])==null?void 0:O.slug)})},null,8,["loading","disabled"]),a(r,{icon:"pi pi-pencil",class:"btn-icon p-3",disabled:((m=C.value)==null?void 0:m.length)!=1,severity:"help",onClick:bl},null,8,["disabled","onClick"]),a(r,{severity:"help",outlined:"",class:"btn-icon p-4",label:"عرض المحتوى",disabled:((z=C.value)==null?void 0:z.length)!=1,onClick:xl},null,8,["disabled"]),a(r,{onClick:gl,label:"إضافة مادة",severity:"help",outlined:"",class:"btn-icon p-4"})])),M.value?(x(),T("div",Ga,[a(Ae),a(r,{severity:"help",outlined:"",class:"btn-icon p-4",icon:"pi pi-arrow-left",label:"المواد",disabled:((s=C.value)==null?void 0:s.length)!=1,onClick:e[37]||(e[37]=S=>M.value=!1)},null,8,["disabled"]),a(r,{onClick:pl,style:{"font-size":"medium"},label:"إضافة فديو",severity:"help",outlined:"",disabled:((c=X.value)==null?void 0:c.length)!=1},null,8,["disabled"]),a(r,{onClick:Cl,style:{"font-size":"medium"},label:"إضافة كورس",severity:"help",outlined:""}),a(r,{onClick:_l,label:"إضافة محتوى",severity:"help",outlined:"",class:"btn-icon p-4"})])):j("",!0)])])]}),_:2},[N.value?{name:"empty",fn:p(()=>[l("div",Ma,[e[62]||(e[62]=l("br",null,null,-1)),a(H,{size:"sm",color:"help",class:"flex justify-center"}),e[63]||(e[63]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... يرجى الانتظار ",-1)),e[64]||(e[64]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:p(()=>[l("div",Fa,[e[65]||(e[65]=l("br",null,null,-1)),a(J,{size:"lm",class:"flex justify-center"}),e[66]||(e[66]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على نتائج",-1)),e[67]||(e[67]=l("br",null,null,-1))])]),key:"1"},M.value?{name:"list",fn:p(o=>{var m,z;return[l("div",Ha,[a(nt,{value:"1"},{default:p(()=>[a(st,null,{default:p(()=>[a(ee,{style:te({color:g.value==="4"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="4"?"bold":"normal"}),value:"4",onClick:e[38]||(e[38]=s=>g.value="4")},{default:p(()=>e[68]||(e[68]=[G("روابط")])),_:1},8,["style"]),a(ee,{style:te({color:g.value==="3"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="3"?"bold":"normal"}),value:"3",onClick:e[39]||(e[39]=s=>g.value="3")},{default:p(()=>e[69]||(e[69]=[G("تطبيقات")])),_:1},8,["style"]),a(ee,{style:te({color:g.value==="2"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="2"?"bold":"normal"}),value:"2",onClick:e[40]||(e[40]=s=>g.value="2")},{default:p(()=>e[70]||(e[70]=[G("صوتيات")])),_:1},8,["style"]),wt(a(ee,{style:te({color:g.value==="6"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="6"?"bold":"normal"}),value:"6",onClick:e[41]||(e[41]=s=>g.value="6")},{default:p(()=>e[71]||(e[71]=[G("فديوهات")])),_:1},8,["style"]),[[Tt,nl.value]]),a(ee,{style:te({color:g.value==="5"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="5"?"bold":"normal"}),value:"5",onClick:e[42]||(e[42]=s=>g.value="5")},{default:p(()=>e[72]||(e[72]=[G("كورسات")])),_:1},8,["style"]),a(ee,{style:te({color:g.value==="1"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="1"?"bold":"normal"}),value:"1",onClick:e[43]||(e[43]=s=>g.value="1")},{default:p(()=>e[73]||(e[73]=[G("ملفات")])),_:1},8,["style"])]),_:1})]),_:1})]),g.value==="1"?(x(),F(ye,{key:0,value:V.value.files.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},le({item:p(s=>[l("div",Ja,[l("div",Ka,[l("div",Qa,[l("a",{class:"rowName",href:Ge.value+"/storage/subject/pdf/"+s.data.content_url,target:"_blank",rel:"noopener noreferrer"},b(s.data.content_url),9,Xa),a(r,{icon:"pi pi-file-pdf",class:"ml-2",severity:"help",outlined:""})])]),l("div",Ya,b("نوع الملف  : "+se(s.data.subtype)),1),l("div",Za,[l("span",null,[a(r,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Se(s.data.content_name,s.data.content_url,s.data.subtype,1,s.data.slug)},null,8,["onClick"]),a(r,{icon:"pi pi-trash",loading:d.value,severity:"danger",outlined:"",onClick:c=>ze(c,s.data.slug)},null,8,["loading","onClick"])]),l("div",Pa,b(s.data.content_name),1)])])]),_:2},[N.value?{name:"empty",fn:p(()=>[l("div",es,[e[74]||(e[74]=l("br",null,null,-1)),a(H,{size:"sm",color:"help",class:"flex justify-center"}),e[75]||(e[75]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الملفات يرجى الانتظار ",-1)),e[76]||(e[76]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:p(()=>[l("div",ls,[e[77]||(e[77]=l("br",null,null,-1)),a(J,{size:"lm",class:"flex justify-center"}),e[78]||(e[78]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على ملفات لهاذي المادة ",-1)),e[79]||(e[79]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):j("",!0),g.value==="2"?(x(),F(ye,{key:1,value:V.value.audios.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},le({item:p(s=>[l("div",ts,[l("div",as,[l("div",ss,[l("audio",ns,[l("source",{src:Ge.value+"/storage/subject/audio/"+s.data.content_url,type:"audio/mpeg"},null,8,os)])])]),l("div",is,b("نوع الصوت  : "+se(s.data.subtype)),1),l("div",us,[l("span",null,[a(r,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Se(s.data.content_name,s.data.content_url,s.data.subtype,2,s.data.slug)},null,8,["onClick"]),a(r,{icon:"pi pi-trash",loading:d.value,severity:"danger",outlined:"",onClick:c=>ze(c,s.data.slug)},null,8,["loading","onClick"])]),l("div",rs,b(s.data.content_name),1)])])]),_:2},[N.value?{name:"empty",fn:p(()=>[l("div",ds,[e[80]||(e[80]=l("br",null,null,-1)),a(H,{size:"sm",color:"help",class:"flex justify-center"}),e[81]||(e[81]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل صوتيات يرجى الانتظار ",-1)),e[82]||(e[82]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:p(()=>[l("div",vs,[e[83]||(e[83]=l("br",null,null,-1)),a(J,{size:"lm",class:"flex justify-center"}),e[84]||(e[84]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على صوتيات لهاذي المادة ",-1)),e[85]||(e[85]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):j("",!0),g.value==="3"?(x(),F(ye,{key:2,value:V.value.apps.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},le({item:p(s=>[l("div",cs,[l("div",ms,[l("div",ps,[l("a",{class:"rowName",href:s.data.content_url,target:"_blank",rel:"noopener noreferrer"},b(s.data.content_url),9,fs),a(r,{icon:"pi pi-android",class:"ml-2",severity:"help",outlined:""})])]),l("div",ys,b("نوع البرنامج  : "+se(s.data.subtype)),1),l("div",bs,[l("span",null,[a(r,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Se(s.data.content_name,s.data.content_url,s.data.subtype,3,s.data.slug)},null,8,["onClick"]),a(r,{icon:"pi pi-trash",loading:d.value,severity:"danger",outlined:"",onClick:c=>ze(c,s.data.slug)},null,8,["loading","onClick"])]),l("div",xs,b(s.data.content_name),1)])])]),_:2},[N.value?{name:"empty",fn:p(()=>[l("div",gs,[e[86]||(e[86]=l("br",null,null,-1)),a(H,{size:"sm",color:"help",class:"flex justify-center"}),e[87]||(e[87]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل التطبيقات يرجى الانتظار ",-1)),e[88]||(e[88]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:p(()=>[l("div",Cs,[e[89]||(e[89]=l("br",null,null,-1)),a(J,{size:"lm",class:"flex justify-center"}),e[90]||(e[90]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على التطبيقات لهاذي المادة ",-1)),e[91]||(e[91]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):j("",!0),g.value==="4"?(x(),F(ye,{key:3,class:"col-12",value:V.value.links.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},le({item:p(s=>[l("div",hs,[l("div",_s,[l("div",ks,[l("a",{class:"rowName",href:s.data.content_url,target:"_blank",rel:"noopener noreferrer"},b(s.data.content_url),9,ws),a(r,{icon:"pi pi-link",class:"ml-2",severity:"help",outlined:""})])]),l("div",Ts,b("نوع الرابط   : "+se(s.data.subtype)),1),l("div",$s,[l("span",null,[a(r,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Se(s.data.content_name,s.data.content_url,s.data.subtype,4,s.data.slug)},null,8,["onClick"]),a(r,{icon:"pi pi-trash",loading:d.value,severity:"danger",outlined:"",onClick:c=>ze(c,s.data.slug)},null,8,["loading","onClick"])]),l("div",js,b(s.data.content_name),1)])])]),_:2},[N.value?{name:"empty",fn:p(()=>[l("div",Vs,[e[92]||(e[92]=l("br",null,null,-1)),a(H,{size:"sm",color:"help",class:"flex justify-center"}),e[93]||(e[93]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الروابط يرجى الانتظار ",-1)),e[94]||(e[94]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:p(()=>[l("div",zs,[e[95]||(e[95]=l("br",null,null,-1)),a(J,{size:"lm",class:"flex justify-center"}),e[96]||(e[96]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على الروابط لهاذي المادة ",-1)),e[97]||(e[97]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):j("",!0),g.value==="6"?(x(),F(ye,{key:4,value:V.value.Videos,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},le({item:p(s=>[l("div",Ss,[l("div",Us,[l("div",Ns,[l("iframe",{src:Ge.value+"/storage/course/"+s.data.course_name+`/${s.data.video_url}${s.data.video_url.includes("?")?"&":"?"}autoplay=1`,loading:"eager",style:{width:"100%"},allowfullscreen:"",class:"w-full rounded",allow:"encrypted-media"},null,8,Ls),l("div",As,[a(ot,{value:s.data.created_at},null,8,["value"])])])]),l("div",qs,b(s.data.video_title),1),l("div",Bs,[l("span",null,[a(r,{onClick:c=>fl(s.data.slug,s.data.video_title,s.data.course_name),icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:""},null,8,["onClick"]),a(r,{icon:"pi pi-trash",onClick:c=>yl(c,s.data.slug),loading:d.value,severity:"danger",outlined:""},null,8,["onClick","loading"])]),l("div",Ds,b(s.data.course_name),1)])])]),_:2},[N.value?{name:"empty",fn:p(()=>[l("div",Es,[e[98]||(e[98]=l("br",null,null,-1)),a(H,{size:"sm",color:"help",class:"flex justify-center"}),e[99]||(e[99]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الفديوهات يرجى الانتظار ",-1)),e[100]||(e[100]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:p(()=>[l("div",Os,[e[101]||(e[101]=l("br",null,null,-1)),a(J,{size:"lm",class:"flex justify-center"}),e[102]||(e[102]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على فديوهات لهاذي الكورس ",-1)),e[103]||(e[103]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):j("",!0),g.value==="5"?(x(),T(Be,{key:5},[V.value.courses.length>0?(x(),T("div",{key:0,class:$t(((z=(m=V.value)==null?void 0:m.courses)==null?void 0:z.length)>3?"divTable":"")},[e[104]||(e[104]=l("div",{class:"tbody col-12 flex flex-column mb-4 mt-4 gap-16",style:{"justify-content":"space-between","font-size":"large"}},[l("div",{class:"th"},"الإعدادات"),l("div",{class:"td"}," الحالة "),l("div",{class:"tg"}," الوصف"),l("div",{class:"tg"}," إسم كورس ")],-1)),V.value.courses.length>0?(x(!0),T(Be,{key:0},al(V.value.courses,s=>(x(),T("div",Ms,[l("div",Fs,[a(Ae),a(r,{severity:"help",outlined:"",icon:"pi pi-eye",onClick:c=>hl(s.slug)},null,8,["onClick"]),a(r,{loading:d.value,class:"mr-3",severity:"help",outlined:"",icon:"pi pi-trash",onClick:c=>Ul(c,s.slug)},null,8,["loading","onClick"]),a(r,{severity:"help",outlined:"",icon:"pi pi-pencil",class:"mr-3",onClick:c=>zl(s.slug,s.course_name)},null,8,["onClick"])]),l("div",Is,[a(Ae),s.status==="inactive"?(x(),F(r,{key:0,class:"font-bold text-1xl ml-2",onClick:c=>rl(c,s.slug,s.status),icon:"pi pi-lock",label:"حظر",severity:"danger",outlined:""},null,8,["onClick"])):j("",!0),s.status==="active"?(x(),F(r,{key:1,class:"font-bold text-1xl ml-2",onClick:c=>rl(c,s.slug,s.status),icon:"pi pi-lock-open",label:"فعال ",severity:"success",outlined:""},null,8,["onClick"])):j("",!0)]),l("div",Rs,[l("span",Ws,b(s.des),1)]),l("div",Gs,[a(vl,{class:"ml-3",name:"option",value:s==null?void 0:s.slug,modelValue:X.value,"onUpdate:modelValue":e[44]||(e[44]=c=>X.value=c)},null,8,["value","modelValue"]),l("span",Hs,b(s==null?void 0:s.course_name),1)])]))),256)):j("",!0)],2)):N.value?(x(),T("div",Js,[e[105]||(e[105]=l("br",null,null,-1)),a(H,{size:"sm",color:"help",class:"flex justify-center"}),e[106]||(e[106]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الكورسات يرجى الانتظار ",-1)),e[107]||(e[107]=l("br",null,null,-1))])):(x(),T("div",Ks,[e[108]||(e[108]=l("br",null,null,-1)),a(J,{size:"lm",class:"flex justify-center"}),e[109]||(e[109]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على الكورسات لهاذي المادة ",-1)),e[110]||(e[110]=l("br",null,null,-1))]))],64)):j("",!0)]}),key:"2"}:void 0,M.value?void 0:{name:"list",fn:p(o=>[e[112]||(e[112]=l("div",{class:"tbody w-full col-12 flex flex-column mb-6 mt-4 gap-16",style:{"justify-content":"space-between","font-size":"large"}},[l("div",{class:"td"},"التاريخ"),l("div",{class:"th"}," الجامعة "),l("div",{class:"th"}," الكلية "),l("div",{class:"th"}," التخصص "),l("div",{class:"td"}," المستوى "),l("div",{class:"td"}," الترم"),l("div",{class:"th"}," إسم المادة ")],-1)),a(L,{header:"تعديل المادة",visible:ie.value,"onUpdate:visible":e[46]||(e[46]=m=>ie.value=m),style:{width:"80vh"},modal:!0},{default:p(()=>[l("div",Qs,[e[111]||(e[111]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم المادة ",-1)),a(v,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:U.value.prevName,class:"input_border w-full mb-3 text-end",modelValue:U.value.nextName,"onUpdate:modelValue":e[45]||(e[45]=m=>U.value.nextName=m)},null,8,["placeholder","modelValue"])]),l("div",Xs,[a(r,{loading:d.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:Vl,label:"تعديل المادة"},null,8,["loading"])])]),_:1},8,["visible"]),(x(!0),T(Be,null,al(o.items,m=>(x(),T("div",Ys,[l("div",Zs,[l("span",Ps,b(jt(K).extractDate(m.created_at)),1)]),l("div",en,[l("span",null,b(m==null?void 0:m.uni_name),1)]),l("div",ln,[l("span",null,b(m==null?void 0:m.college_name),1)]),l("div",tn,[l("span",null,b(m==null?void 0:m.major_name),1)]),l("div",an,[l("span",null,b(m==null?void 0:m.level_name),1)]),l("div",sn,[l("span",null,b(m==null?void 0:m.term_name),1)]),l("div",nn,[a(vl,{class:"ml-2",name:"option",value:m,modelValue:C.value,"onUpdate:modelValue":e[47]||(e[47]=z=>C.value=z)},null,8,["value","modelValue"]),l("span",null,b(m==null?void 0:m.subject_name),1)])]))),256))]),key:"3"}]),1032,["value","paginator"])])])])}}},gn=yt(on,[["__scopeId","data-v-f64beefe"]]);export{gn as default};
