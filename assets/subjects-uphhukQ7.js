import{s as it,a as rt}from"./index-CLwpZUWq.js";import{s as dt}from"./index-CVxjK3G1.js";import{s as vt}from"./index-oPzeRlZ1.js";import{s as ct,a as mt,b as pt,c as ft}from"./index-x0JFOTzF.js";import{_ as yt,a as bt,z as xt,r as i,j as gt,k as Ct,w as Ve,o as ht,f as j,c as $,h as a,A as E,B as _,l as f,b as l,m as oe,i as _t,n as kt,g as x,t as y,C as Y,F as Me,e as nl,D as ue,E as wt,G as $t,H as Tt,d as jt,p as Vt,q as zt,v as St,s as Ut,I as Lt,x as Nt}from"./index-B8p1H9fe.js";import{s as At}from"./index-Dvs0exSP.js";import{s as Bt,a as qt}from"./index-CO7-svjp.js";import{s as Dt}from"./index-BF1mAKNY.js";import{L as Et}from"./loadding-BlZlKh_6.js";import{l as Z,N as P}from"./NotFound-CSpOsuBx.js";const Mt={class:"grid text-end"},Ft={class:"col-12",style:{"text-align":"end"}},Ot={class:"w-full mt-3 mb-3"},Rt={class:"w-full mt-2 mb-2"},It={class:"w-full mt-2 mb-2"},Wt={class:"w-full mt-2 mb-2"},Gt={class:"w-full mt-2 mb-2"},Ht={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Jt={class:"col-12",style:{"text-align":"end"}},Kt={class:"w-full mt-2 mb-4"},Qt={key:0},Xt={class:"w-full mt-2 mb-2"},Yt={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},Zt={class:"w-full mt-2 mb-2"},Pt={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},ea={key:0,class:"w-full mt-2 mb-2"},la={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},ta={key:1,class:"w-full mt-2 mb-2"},aa={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},sa={key:1,class:"text-center text-sm"},na={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},oa={class:"flex gap-2"},ua={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},ia={class:"col-12",style:{"text-align":"end"}},ra={class:"w-full mt-2 mb-4"},da={class:"w-full mt-2 mb-2"},va={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},ca={class:"w-full mt-2 mb-2"},ma={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},pa={key:0,class:"w-full mt-2 mb-2"},fa={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},ya={key:1,class:"w-full mt-2 mb-2"},ba={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},xa={key:1,class:"text-center text-sm"},ga={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},Ca={class:"flex gap-2"},ha={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},_a={class:"col-12",style:{"text-align":"end"}},ka={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},wa={class:"flex gap-2"},$a={class:"flex flex-col gap-8 pt-4"},Ta={key:1,class:"text-center text-sm"},ja={key:2},Va={class:"flex flex-wrap gap-4"},za={class:"relative mx-auto"},Sa=["alt","src"],Ua={class:"font-medium text-ellipsis max-w-40 whitespace-nowrap overflow-hidden"},La={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Na={class:"col-12",style:{"text-align":"end"}},Aa={class:"w-full"},Ba={class:"w-full"},qa={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Da={class:"col-12",style:{"text-align":"end"}},Ea={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Ma={class:"col-12",style:{"text-align":"end"}},Fa={class:"w-full"},Oa={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Ra={class:"col-12"},Ia={class:"card"},Wa={class:"loading-state"},Ga={class:"empty-state"},Ha={style:{"justify-content":"space-between"},class:"flex mt-2 flex-column md:flex-row md:justify-content-between md:align-items-center"},Ja={class:"text-right"},Ka={key:0,class:"flex gap-4"},Qa={key:1,class:"flex gap-4"},Xa={style:{"justify-content":"center"},class:"w-full juastify-center flex font-medium"},Ya={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},Za={class:"mb-4"},Pa={class:"audio-player"},es=["href"],ls={class:"mb-4 font-medium",style:{"text-align":"start",direction:"rtl"}},ts={class:"flex justify-between items-center"},as={class:"mt-0 text-xl"},ss={class:"loading-state"},ns={class:"empty-state"},os={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},us={class:"mb-4"},is={class:"audio-player"},rs={controls:""},ds=["src"],vs={class:"mb-4 font-medium"},cs={class:"flex justify-between items-center"},ms={class:"mt-0 text-xl"},ps={class:"loading-state"},fs={class:"empty-state"},ys={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},bs={class:"mb-4"},xs={class:"audio-player"},gs=["href"],Cs={class:"mb-4 font-medium"},hs={class:"flex justify-between items-center"},_s={class:"mt-0 text-xl"},ks={class:"loading-state"},ws={class:"empty-state"},$s={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},Ts={class:"mb-4"},js={class:"audio-player"},Vs=["href"],zs={class:"mb-4 font-medium"},Ss={class:"flex justify-between items-center"},Us={class:"mt-0 text-xl"},Ls={class:"loading-state"},Ns={class:"empty-state"},As={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},Bs={class:"mb-4"},qs={class:"relative mx-auto"},Ds=["src"],Es={class:"dark:bg-surface-900 absolute rounded-border",style:{left:"5px",top:"5px"}},Ms={class:"mb-4 font-medium"},Fs={class:"flex justify-between items-center"},Os={class:"mt-0 text-xl"},Rs={class:"loading-state"},Is={class:"empty-state"},Ws={style:{"justify-content":"space-between"},class:"flex mb-4 col-12 flex-column gap-16 p-2 md:justify-content-between md:align-items-center"},Gs={class:"th"},Hs={class:"td"},Js={class:"tg mt-3"},Ks={class:"font-medium text-1xl"},Qs={class:"tg mt-3"},Xs={class:"font-medium text-1xl"},Ys={key:1,class:"loading-state"},Zs={key:2,class:"empty-state"},Ps={class:"col-12",style:{"text-align":"end"}},en={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},ln={style:{"justify-content":"space-between"},class:"flex mb-4 col-12 flex-column gap-16 p-2 md:justify-content-between md:align-items-center"},tn={class:"td mt-1"},an={class:"font-medium text-1xl cursor-pointer"},sn={class:"th mt-1 font-medium text-1xl"},nn={class:"th mt-1 font-medium text-1xl"},on={class:"th mt-1 font-medium text-1xl"},un={class:"td mt-1 font-medium text-1xl"},rn={class:"td mt-1 font-medium text-1xl"},dn={class:"th mt-1 font-medium text-1xl"},vn={__name:"subjects",setup(cn){const ee=bt(),pl=xt(),le=i(!1),{proxy:w}=_t(),m=gt(),T=JSON.parse(localStorage.getItem("token")),ie=Ct();i("");const h=i([]),H=i([]),B=i({prevName:"",nextName:"",prevTrem_name:"",nextTrem_name:null,slug:""}),s=i({prevName:"",nextName:"",prevContentType:"",nextContentType:null,prevContentSubType:"",nextContentSubType:null,prevContentLink:null,nextContentLink:null,prevfile:null,nextContentfile:null,slug:""}),q=i(!1);i(null);const ze=i([{id:1,name:"ملفات",name2:"pdf"},{id:2,name:"صوتيات ",name2:"audio"},{id:3,name:"تطبيقات ",name2:"app"},{id:4,name:"روابط ",name2:"link"}]),Fe=i([{id:1,name:"نماذج اختبارات",name2:"exam"},{id:2,name:"ملخصات ",name2:"summary"},{id:3,name:"مراجع ",name2:"reviewer"},{id:5,name:"ادوات ",name2:"tools"},{id:6,name:"شروحات ",name2:"commentary"},{id:7,name:"تطبيقات الجوال",name2:"mobile"},{id:8,name:"برامج الكمبيوتر ",name2:"computer"}]);function re(t){const e=Fe.value.find(d=>d.name2===t);return e?e.name:null}function fl(t){return ze.value.find(d=>d.id===t)}const te=i(""),de=i(!1),ve=i(!1),ce=i(!1),L=i({files:[],courses:[],audios:[],links:[],apps:[],Videos:[]}),ae=i(!1),yl=()=>{ae.value=!ae.value},Se=i(!1),Oe=i(""),ol=i(""),J=i(""),Re=i(""),bl=(t,e,d)=>{Oe.value=t,ol.value=e,Re.value=d,J.value="",Se.value=!Se.value},xl=(t,e)=>{ie.require({target:t.target,message:"هل انت متأكد من حذف الفديو",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{v.value=!0,j.request({url:w.$localhost+"/api/admin/delete-video/"+e,method:"get",headers:{Authorization:"Bearer "+T}}).then(d=>{var r;d&&(m.add({severity:"success",summary:"حذف الفديو",detail:"تم حذف الفديو بنجاح  ",life:3e3}),O((r=h.value[0])==null?void 0:r.slug)),v.value=!1}),v.value=!1},reject:()=>{}})},Ue=(t,e)=>{ie.require({target:t.target,message:"هل انت متأكد من حذف المحتوى",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{v.value=!0,j.request({url:w.$localhost+"/api/admin/delete-content/"+e,method:"get",headers:{Authorization:"Bearer "+T}}).then(d=>{var r;d&&(m.add({severity:"success",summary:"حذف المحتوى",detail:"تم حذف المحتوى بنجاح  ",life:3e3}),O((r=h.value[0])==null?void 0:r.slug)),v.value=!1}),v.value=!1},reject:()=>{}})},z=i([]),gl=()=>{var t,e,d;B.value.prevName=(t=h.value[0])==null?void 0:t.subject_name,B.value.prevTrem_name=(e=h.value[0])==null?void 0:e.term_name,B.value.slug=(d=h.value[0])==null?void 0:d.slug,ce.value=!ce.value},me=i(!1),Le=(t,e,d,r,b)=>{var o,C,U;s.value.prevName=t,s.value.nextContentType=fl(r),s.value.prevContentType=(o=s.value.nextContentType)==null?void 0:o.name,((C=s.value.nextContentType)==null?void 0:C.id)===1||((U=s.value.nextContentType)==null?void 0:U.id)===2?s.value.prevfile=e:s.value.prevContentLink=e,s.value.prevContentSubType=re(d),s.value.slug=b,me.value=!me.value},W=i(!1),Cl=()=>{var t,e,d;(t=h.value[0])!=null&&t.content_type&&((e=h.value[0])==null||e.content_type.forEach(r=>{const b=ze.value.find(o=>o.name2===r.content_type);b&&(b.slug=r.slug)})),O((d=h.value[0])==null?void 0:d.slug),W.value=!W.value},hl=()=>{de.value=!de.value},M=i({name:"",des:""}),pe=i(!1),_l=()=>{pe.value=!pe.value},ul=i(!1),il=i(""),kl=t=>{il.value=t,Ie(t),g.value="6",ul.value=!0},wl=()=>{ve.value=!ve.value},Ie=async t=>{q.value=!0;try{const e=await j.get(w.$localhost+"/api/admin/videos/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(L.value.Videos=e.data.data)}catch(e){console.error("Error fetching Majors:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}q.value=!1},$l=async()=>{var t,e,d;try{if(v.value=!0,k.value=0,!Q.value||!(Q.value instanceof File)){m.add({severity:"error",summary:"خطأ في الفيديو",detail:"الرجاء اختيار فيديو صالح",life:3e3});return}if(!((t=H.value)!=null&&t.length)){m.add({severity:"error",summary:"خطأ",detail:"الرجاء اختيار كورس",life:3e3});return}const r=new FormData;r.append("video_url",Q.value),S.value=new AbortController,(await j.post(`${w.$localhost}/api/admin/create-video/${H.value[0]}`,r,{headers:{Authorization:`Bearer ${T}`},signal:S.value.signal,onUploadProgress:o=>{o.total&&(k.value=Math.round(o.loaded*100/o.total))}})).data.status&&(m.add({severity:"success",summary:"إنشاء الفيديو",detail:"تم رفع الفيديو بنجاح",life:3e3}),Q.value=null,k.value=0,ae.value=!1,Ie(H.value[0]),H.value=null)}catch(r){r.code==="ERR_CANCELED"?m.add({severity:"warn",summary:"تم الإلغاء",detail:"تم إلغاء رفع الفيديو",life:3e3}):m.add({severity:"error",summary:"إنشاء الفيديو",detail:((d=(e=r.response)==null?void 0:e.data)==null?void 0:d.message)||"فشل رفع الفيديو",life:3e3})}finally{v.value=!1,S.value=null}},v=i(!1),Tl=async t=>{try{if(v.value=!0,te.value==="")m.add({severity:"error",summary:"خطاء في تسجيل المادة",detail:"الرجاء إضافة إسم المادة الجديد",life:3e3});else if(t==null||t==null)m.add({severity:"error",summary:"خطاء في تسجيل المادة",detail:"الرجاء إختيار إسم الترم  ",life:3e3});else{const e=await j.request({url:w.$localhost+"/api/admin/create-subject/"+t,method:"post",headers:{Authorization:"Bearer "+T},data:{subject_name:te.value}});e.data.status&&(m.add({severity:"success",summary:"إنشاء المادة",detail:"تم إنشاء المادة جديد بنجاح بإسم :  "+te.value,life:3e3}),Ol(e.data.data),te.value="",ye.value=null,de.value=!1)}}catch(e){m.add({severity:"error",summary:"إنشاء المادة",detail:e,life:3e3}),v.value=!1}finally{v.value=!1,le.value=!1}v.value=!1},jl=async t=>{var e,d,r,b,o,C;try{if(v.value=!0,k.value=0,!s.value.nextName){m.add({severity:"error",summary:"خطأ في تسجيل المحتوى",detail:"الرجاء إضافة اسم المحتوى",life:3e3});return}const U=new FormData;if(U.append("content_name",s.value.nextName),U.append("subtype",((e=s.value.nextContentSubType)==null?void 0:e.name2)||""),((d=s.value.nextContentType)==null?void 0:d.id)===1||((r=s.value.nextContentType)==null?void 0:r.id)===2){if(!(s.value.nextContentfile instanceof File)){m.add({severity:"error",summary:"خطأ في الملف",detail:"الرجاء اختيار ملف صالح",life:3e3});return}U.append("content_url",s.value.nextContentfile)}else{if(!s.value.nextContentLink){m.add({severity:"error",summary:"خطأ في الرابط",detail:"الرجاء إدخال رابط المحتوى",life:3e3});return}U.append("content_url",s.value.nextContentLink)}S.value=new AbortController,(await j.post(`${w.$localhost}/api/admin/create-content/${t}`,U,{headers:{Authorization:`Bearer ${T}`},signal:S.value.signal,onUploadProgress:X=>{X.total&&(k.value=Math.round(X.loaded*100/X.total))}})).data.status&&(m.add({severity:"success",summary:"إنشاء المحتوى",detail:"تم إنشاء المحتوى بنجاح",life:3e3}),s.value.nextName="",s.value.nextContentLink=null,s.value.nextContentfile=null,s.value.nextContentType=null,s.value.nextContentSubType=null,ve.value=!1,k.value=0,O((b=h.value[0])==null?void 0:b.slug))}catch(U){U.code==="ERR_CANCELED"?m.add({severity:"warn",summary:"تم الإلغاء",detail:"تم إلغاء رفع المحتوى",life:3e3}):m.add({severity:"error",summary:"إنشاء المحتوى",detail:((C=(o=U.response)==null?void 0:o.data)==null?void 0:C.message)||"حدث خطأ أثناء الرفع",life:3e3})}finally{v.value=!1,le.value=!1,S.value=null}},Vl=async()=>{var t,e,d,r,b,o;try{if(v.value=!0,k.value=0,!s.value.slug){m.add({severity:"error",summary:"خطأ",detail:"معرف المحتوى غير موجود",life:3e3});return}if(!s.value.nextName){m.add({severity:"error",summary:"خطأ في الاسم",detail:"الرجاء إدخال اسم المحتوى",life:3e3});return}const C=new FormData;C.append("content_name",s.value.nextName),C.append("subtype",((t=s.value.nextContentSubType)==null?void 0:t.name2)||""),((e=s.value.nextContentType)==null?void 0:e.id)===1||((d=s.value.nextContentType)==null?void 0:d.id)===2?s.value.nextContentfile instanceof File&&C.append("content_url",s.value.nextContentfile):s.value.nextContentLink&&C.append("content_url",s.value.nextContentLink),S.value=new AbortController,(await j.post(`${w.$localhost}/api/admin/update-content/${s.value.slug}`,C,{headers:{Authorization:`Bearer ${T}`},signal:S.value.signal,onUploadProgress:G=>{G.total&&(k.value=Math.round(G.loaded*100/G.total))}})).data.status&&(m.add({severity:"success",summary:"تعديل المحتوى",detail:"تم تعديل المحتوى بنجاح",life:3e3}),s.value.nextName="",s.value.nextContentLink=null,s.value.nextContentfile=null,s.value.nextContentType=null,s.value.nextContentSubType=null,s.value.slug="",me.value=!1,k.value=0,O((r=h.value[0])==null?void 0:r.slug))}catch(C){C.code==="ERR_CANCELED"?m.add({severity:"warn",summary:"تم الإلغاء",detail:"تم إلغاء رفع التعديل",life:3e3}):m.add({severity:"error",summary:"تعديل المحتوى",detail:((o=(b=C.response)==null?void 0:b.data)==null?void 0:o.message)||"حدث خطأ أثناء التحديث",life:3e3})}finally{v.value=!1,le.value=!1,S.value=null}},zl=async()=>{var t;try{v.value=!0,(await j.request({url:w.$localhost+"/api/admin/create-course2subject/"+((t=h.value[0])==null?void 0:t.slug),method:"post",headers:{Authorization:"Bearer "+T},data:{course_name:M.value.name,des:M.value.des}})).data.status&&(m.add({severity:"success",summary:"إنشاء كورس",detail:"تم إنشاء كورس جديد بنجاح بإسم :  "+M.value.name,life:3e3}),M.value.name="",M.value.des="",pe.value=!1,O(h.value[0].slug))}catch(e){m.add({severity:"error",summary:"إنشاء كورس",detail:e,life:3e3}),v.value=!1}finally{v.value=!1,le.value=!1}v.value=!1},Sl=async()=>{v.value=!0;try{const t=await j.request({url:w.$localhost+"/api/admin/update-subject/"+B.value.slug,method:"post",headers:{Authorization:"Bearer "+T},data:{subject_name:B.value.nextName}});t&&(m.add({severity:"success",summary:"تعديل المادة",detail:"تم تعديل المادة بنجاح  ",life:3e3}),Il(B.value.slug,t.data.data),ce.value=!1,B.value.nextName="",B.value.prevName="",B.value.prevTrem_name="",B.value.slug="",B.nextTrem_name=null,h.value=null)}catch(t){m.add({severity:"error",summary:"تعديل المادة",detail:t,life:3e3})}finally{v.value=!1}v.value=!1},rl=async t=>{q.value=!0;try{let e=ee.extractDateInput(ee.from),d=ee.extractDateInput(ee.to);const r=await j.get(w.$localhost+"/api/admin/subjects",{headers:{Authorization:"Bearer "+T},params:{from:t?e:null,to:t?d:null}});r.status===200&&(z.value=Object.values(r.data.data).map(b=>(b.search=`${b.subject_name} ${b.term_name} ${b.level_name} ${b.major_name} ${b.college_name} ${b.uni_name}`,b)),D.value=z.value)}catch(e){console.error("Error fetching universities:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}q.value=!1,ee.displayReport=!1},F=i({prevName:"",nextName:"",slug:""}),fe=i(!1),Ul=(t,e)=>{F.value.prevName=e,F.value.slug=t,fe.value=!fe.value},O=async t=>{q.value=!0;try{const e=await j.get(w.$localhost+"/api/admin/contents/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(e.data.data.contents.forEach(d=>{switch(d.content_type){case"link":L.value.links=d;break;case"app":L.value.apps=d;break;case"pdf":L.value.files=d;break;case"audio":L.value.audios=d;break}}),L.value.courses=e.data.data.course)}catch(e){console.error("Error fetching universities:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}q.value=!1},Ll=async()=>{v.value=!0;try{await j.request({url:w.$localhost+"/api/admin/update-course/"+F.value.slug,method:"post",headers:{Authorization:"Bearer "+T},data:{course_name:F.value.nextName}})&&(m.add({severity:"success",summary:"تعديل كورس",detail:"تم تعديل كورس بنجاح  ",life:3e3}),F.value.nextName="",F.value.slug="",O(h.value[0].slug),fe.value=!1)}catch(t){m.add({severity:"error",summary:"تعديل كورس",detail:t,life:3e3})}finally{v.value=!1}v.value=!1},Nl=(t,e)=>{ie.require({target:t.target,message:"هل انت متأكد من حذف كورس",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{v.value=!0,j.request({url:w.$localhost+"/api/admin/delete-course/"+e,method:"get",headers:{Authorization:"Bearer "+T}}).then(d=>{d&&(m.add({severity:"success",summary:"حذف كورس",detail:"تم حذف كورس بنجاح  ",life:3e3}),O(h.value[0].slug)),v.value=!1}),v.value=!1},reject:()=>{}})},Al=(t,e)=>{ie.require({target:t.target,message:"هل انت متأكد من حذف المادة",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:async()=>{v.value=!0;try{(await j.request({url:w.$localhost+"/api/admin/delete-subject/"+e,method:"get",headers:{Authorization:"Bearer "+T}})).data.status?(m.add({severity:"success",summary:"حذف المادة",detail:"تم حذف المادة بنجاح  ",life:3e3}),Rl(e),h.value=null):m.add({severity:"error",summary:"حذف المادة",detail:"لا يمكن حذف المادة لانه مرتبط بمحتوى ",life:3e3})}catch(d){m.add({severity:"error",summary:"خطأ في حذف الالمادة",detail:d.message,life:3e3})}finally{v.value=!1}v.value=!1},reject:()=>{}})},Bl=async()=>{try{v.value=!0,(await j.request({url:w.$localhost+`/api/admin/update-video/${Re.value}/${Oe.value}`,method:"post",headers:{Authorization:"Bearer "+T},data:{video_title:J.value}})).data.status&&(m.add({severity:"success",summary:"تعديل الفديو",detail:"تم تعديل إسم الفديو بنجاح :  "+J.value,life:3e3}),J.value="",Re.value="",Oe.value="",ae.value=!1,Ie(il.value))}catch(t){m.add({severity:"error",summary:"تعديل الفديو",detail:t,life:3e3}),v.value=!1}finally{v.value=!1,le.value=!1}v.value=!1},K=i([]),We=i([]),D=i([]),ql=()=>{K.value=[...D.value],z.value=D.value},Dl=t=>{setTimeout(()=>{t.query.trim().length!=null||t.query.trim().length!=""?t.inputType==="backspace"||t.query.trim().length===null?(K.value=[...D.value],z.value=D.value):(K.value=D.value.filter(e=>e.search.toLowerCase().includes(t.query.toLowerCase())),z.value=K.value):z.value=D.value},50)};Ve(We.value,t=>{t.length!==0?(K.value=t.filter(e=>e.search),z.value=K.value):z.value=D.value},{deep:!0});const ye=i(null),Ge=i([]);function El(t){setTimeout(()=>{t.query.trim().length?Ge.value=He.value.filter(e=>e.term_name.toLowerCase().includes(t.query.toLowerCase())):Ge.value=[...He.value]},250)}const He=i([]),Ne=i(!1),Ml=async t=>{ye.value=null,Ne.value=!0;try{const e=await j.get(w.$localhost+"/api/admin/terms/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(He.value=e.data.data)}catch(e){console.error("Error fetching Trems:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}Ne.value=!1},g=i("1"),Je=i(w.$localhost);ht(()=>{rl(),Hl()});const dl=t=>{s.value.nextContentfile=t.files[0]},Q=i([]),Fl=t=>{Q.value=t.files},vl=(t,e,d)=>{let r="",b="",o="";d=="active"?(r="هل انت متأكد من حظر الكورس",b=" تم حظر الكورس بنجاح  ",o="inactive"):(r="هل انت متأكد من تفعيل الكورس",b=" تم تفعيل الكورس بنجاح  ",o="active"),ie.require({target:t.target,message:r,icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{j.request({url:w.$localhost+"/api/admin/update-course/"+e,method:"post",headers:{Authorization:"Bearer "+T},data:{status:o}}).then(C=>{C&&(m.add({severity:"success",summary:"حالة الكورس",detail:b,life:3e3}),O(h.value[0].slug))})},reject:()=>{}})};function Ol(t){let d=(Array.isArray(t)?t:[t]).map(r=>(r.search=`${r.subject_name} ${r.term_name} ${r.level_name} ${r.major_name} ${r.college_name} ${r.uni_name}`,r));z.value=[...d,...z.value],D.value=z.value}function Rl(t){const e=z.value.findIndex(d=>d.slug===t);e!==-1&&z.value.splice(e,1),D.value=z.value}function Il(t,e){const d=z.value.findIndex(r=>r.slug===t);if(d!==-1){const r={...e,search:`${e.subject_name} ${e.term_name} ${e.level_name} ${e.major_name} ${e.college_name} ${e.uni_name}`};z.value.splice(d,1,r),D.value=z.value}}const be=i(null),Ke=i([]);function Wl(t){setTimeout(()=>{t.query.trim().length?Ke.value=Qe.value.filter(e=>e.college_name.toLowerCase().includes(t.query.toLowerCase())):Ke.value=[...Qe.value]},250)}const Qe=i([]),Ae=i(!1),Gl=async t=>{be.value=null,Ae.value=!0;try{const e=await j.get(w.$localhost+"/api/admin/colleges/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(Qe.value=e.data)}catch(e){console.error("Error fetching Colleges:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}Ae.value=!1},Xe=i([]),cl=i(!1),Hl=async()=>{cl.value=!0;try{const t=await j.get(w.$localhost+"/api/admin/universties",{headers:{Authorization:"Bearer "+T}});t.status===200&&(Xe.value=t.data.data)}catch(t){console.error("Error fetching universities:",t),m.add({severity:"error",summary:"Error",detail:t.message,life:4e3})}cl.value=!1},Be=i(null),Ye=i([]);function Jl(t){setTimeout(()=>{t.query.trim().length?Ye.value=Xe.value.filter(e=>e.uni_name.toLowerCase().includes(t.query.toLowerCase())):Ye.value=[...Xe.value]},250)}const xe=i(null),Ze=i([]);function Kl(t){setTimeout(()=>{t.query.trim().length?Ze.value=Pe.value.filter(e=>e.major_name.toLowerCase().includes(t.query.toLowerCase())):Ze.value=[...Pe.value]},250)}const Pe=i([]),qe=i(!1),Ql=async t=>{xe.value=null,qe.value=!0;try{const e=await j.get(w.$localhost+"/api/admin/majors/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(Pe.value=e.data.data)}catch(e){console.error("Error fetching Majors:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}qe.value=!1},ge=i(null),el=i([]);function Xl(t){setTimeout(()=>{t.query.trim().length?el.value=ll.value.filter(e=>e.level_name.toLowerCase().includes(t.query.toLowerCase())):el.value=[...ll.value]},250)}const ll=i([]),De=i(!1),Yl=async t=>{ge.value=null,De.value=!0;try{const e=await j.get(w.$localhost+"/api/admin/levels/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(ll.value=e.data.data)}catch(e){console.error("Error fetching Levels:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}De.value=!1};Ve(Be,(t,e)=>{t!=null&&t.id&&t!==e&&Gl(t.id)}),Ve(be,(t,e)=>{t!=null&&t.college_id&&t!==e&&Ql(t.college_id)}),Ve(xe,(t,e)=>{t!=null&&t.id&&t!==e&&Yl(t.id)}),Ve(ge,(t,e)=>{t!=null&&t.id&&t!==e&&Ml(t.id)});const S=i(null),Zl=i(0),k=i(0);function tl(t){S.value=new AbortController,t({options:{signal:S.value.signal}})}function al(){S.value&&(S.value.abort(),S.value=null,k.value=0)}const Pl=(t,e,d)=>{e(d),Q.value=null,Zl.value=0,k.value=0,S.value&&(S.value.abort(),S.value=null)},et=t=>{const r=pl.config.locale.fileSizeTypes;if(t===0)return`0 ${r[0]}`;const b=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,b)).toFixed(3))} ${r[b]}`};return(t,e)=>{const d=zt,r=St,b=rt,o=Ut,C=kt,U=Dt,G=Bt,X=qt,lt=Lt,tt=At,Ee=Nt,se=ct,at=mt,st=pt,Ce=ft,nt=vt,ml=dt,ot=it;return x(),$("div",Mt,[a(d),le.value?(x(),E(Et,{key:0,"loading-overlay":!0,size:"sm",text:"يرجى الإنتظار",center:!0})):_("",!0),a(C,{header:"إضافة المادة",visible:de.value,"onUpdate:visible":e[12]||(e[12]=u=>de.value=u),style:{width:"70vh"},modal:!0},{default:f(()=>[l("div",Ft,[e[53]||(e[53]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم المادة ",-1)),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:"الإسم",class:"input_border w-full mb-3 text-end",modelValue:te.value,"onUpdate:modelValue":e[0]||(e[0]=u=>te.value=u)},null,8,["modelValue"]),l("div",Ot,[e[48]||(e[48]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم الجامعة ",-1)),a(b,{class:"w-full text-end",modelValue:Be.value,"onUpdate:modelValue":e[1]||(e[1]=u=>Be.value=u),suggestions:Ye.value,optionLabel:"uni_name",placeholder:"إختيار الجامعة",dropdown:"",onComplete:e[2]||(e[2]=u=>Jl(u))},null,8,["modelValue","suggestions"])]),l("div",Rt,[e[49]||(e[49]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم الكلية ",-1)),a(b,{class:"w-full text-end",modelValue:be.value,"onUpdate:modelValue":e[3]||(e[3]=u=>be.value=u),loading:Ae.value,disabled:Ae.value||!Be.value,suggestions:Ke.value,optionLabel:"college_name",placeholder:" إختيار الكلية",dropdown:"",onComplete:e[4]||(e[4]=u=>Wl(u))},null,8,["modelValue","loading","disabled","suggestions"])]),l("div",It,[e[50]||(e[50]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم التخصص ",-1)),a(b,{class:"w-full text-end",modelValue:xe.value,"onUpdate:modelValue":e[5]||(e[5]=u=>xe.value=u),loading:qe.value,disabled:qe.value||!be.value,suggestions:Ze.value,optionLabel:"major_name",placeholder:" إختيار التخصص",dropdown:"",onComplete:e[6]||(e[6]=u=>Kl(u))},null,8,["modelValue","loading","disabled","suggestions"])]),l("div",Wt,[e[51]||(e[51]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم المستوى ",-1)),a(b,{class:"w-full text-end",modelValue:ge.value,"onUpdate:modelValue":e[7]||(e[7]=u=>ge.value=u),loading:De.value,disabled:De.value||!xe.value,suggestions:el.value,optionLabel:"level_name",placeholder:" إختيار المستوى",dropdown:"",onComplete:e[8]||(e[8]=u=>Xl(u))},null,8,["modelValue","loading","disabled","suggestions"])]),l("div",Gt,[e[52]||(e[52]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم الترم ",-1)),a(b,{class:"w-full text-end",loading:Ne.value,disabled:Ne.value||!ge.value,modelValue:ye.value,"onUpdate:modelValue":e[9]||(e[9]=u=>ye.value=u),suggestions:Ge.value,optionLabel:"term_name",placeholder:" إختيار الترم",dropdown:"",onComplete:e[10]||(e[10]=u=>El(u))},null,8,["loading","disabled","modelValue","suggestions"])]),l("div",Ht,[a(o,{loading:v.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:e[11]||(e[11]=u=>{var p;return Tl((p=ye.value)==null?void 0:p.slug)}),label:"إنشاء المادة"},null,8,["loading"])])])]),_:1},8,["visible"]),a(C,{header:"إضافة المحتوى",visible:ve.value,"onUpdate:visible":e[18]||(e[18]=u=>ve.value=u),style:{width:"70vh"},modal:!0},{default:f(()=>{var u,p,N,n,c,A,R,he,_e,ke,we,$e,Te,je;return[l("div",Jt,[l("div",Kt,[e[54]||(e[54]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," نوع المحتوى ",-1)),a(U,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:s.value.nextContentType,"onUpdate:modelValue":e[13]||(e[13]=V=>s.value.nextContentType=V),options:ze.value,optionLabel:"name",placeholder:"إختيار نوع المحتوى"},null,8,["modelValue","options"])]),s.value.nextContentType!==null?(x(),$("div",Qt,[l("div",Xt,[l("label",Yt," إسم "+y(((u=s.value.nextContentType)==null?void 0:u.id)===3?"التطبيق":((p=s.value.nextContentType)==null?void 0:p.id)===1?"الملف":((N=s.value.nextContentType)==null?void 0:N.id)===2?"صوت":"الرابط"),1),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:"الإسم",class:"input_border w-full mb-3 text-end",modelValue:s.value.nextName,"onUpdate:modelValue":e[14]||(e[14]=V=>s.value.nextName=V)},null,8,["modelValue"])]),l("div",Zt,[l("label",Pt," نوع "+y(((n=s.value.nextContentType)==null?void 0:n.id)===3?"التطبيق":((c=s.value.nextContentType)==null?void 0:c.id)===1?"الملف":((A=s.value.nextContentType)==null?void 0:A.id)===2?"صوت":"الرابط"),1),a(U,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:s.value.nextContentSubType,"onUpdate:modelValue":e[15]||(e[15]=V=>s.value.nextContentSubType=V),options:Fe.value,optionLabel:"name",placeholder:" النوع "},null,8,["modelValue","options"])]),((R=s.value.nextContentType)==null?void 0:R.id)===3||((he=s.value.nextContentType)==null?void 0:he.id)===4?(x(),$("div",ea,[l("label",la,y(((_e=s.value.nextContentType)==null?void 0:_e.id)===3?"التطبيق":"الرابط"),1),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:((ke=s.value.nextContentType)==null?void 0:ke.id)===3?"اللصق رابط التطبيق":"اللصق الرابط",modelValue:s.value.nextContentLink,"onUpdate:modelValue":e[16]||(e[16]=V=>s.value.nextContentLink=V),class:"input_border w-full mb-3 text-end"},null,8,["placeholder","modelValue"])])):_("",!0),((we=s.value.nextContentType)==null?void 0:we.id)===1||(($e=s.value.nextContentType)==null?void 0:$e.id)===2?(x(),$("div",ta,[l("label",aa,y(((Te=s.value.nextContentType)==null?void 0:Te.id)===1?"الملفات":"الصوتيات"),1),a(X,{name:"demo[]",multiple:!0,accept:((je=s.value.nextContentType)==null?void 0:je.id)===1?"application/pdf":"audio/*",onSelect:dl},{header:f(({chooseCallback:V,uploadCallback:ne,clearCallback:ut,files:I})=>[k.value>0?(x(),E(G,{key:0,value:k.value,class:"w-full mt-3"},null,8,["value"])):_("",!0),k.value>0?(x(),$("p",sa,y(k.value)+"% ",1)):_("",!0),l("div",na,[l("div",oa,[a(o,{onClick:sl=>V(),icon:"pi pi-images",rounded:"",outlined:"",severity:"secondary"},null,8,["onClick"]),a(o,{onClick:sl=>tl(ne),style:{display:"none"},icon:"pi pi-cloud-upload",rounded:"",outlined:"",severity:"success",disabled:!I||I.length===0},null,8,["onClick","disabled"]),a(o,{onClick:al,icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!I||I.length===0},null,8,["disabled"])])])]),_:1},8,["accept"])])):_("",!0),l("div",ua,[a(o,{loading:v.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:e[17]||(e[17]=V=>{var ne;return jl((ne=s.value.nextContentType)==null?void 0:ne.slug)}),label:"إنشاء المحتوى"},null,8,["loading"])])])):_("",!0)])]}),_:1},8,["visible"]),a(C,{header:"تعديل المحتوى",visible:me.value,"onUpdate:visible":e[23]||(e[23]=u=>me.value=u),style:{width:"70vh"},modal:!0},{default:f(()=>{var u,p,N,n,c,A,R,he,_e,ke,we,$e,Te,je;return[l("div",ia,[l("div",ra,[e[55]||(e[55]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," نوع المحتوى ",-1)),a(U,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:s.value.nextContentType,"onUpdate:modelValue":e[19]||(e[19]=V=>s.value.nextContentType=V),disabled:!0,options:ze.value,optionLabel:"name",placeholder:s.value.prevContentType},null,8,["modelValue","options","placeholder"])]),l("div",null,[l("div",da,[l("label",va," إسم "+y(((u=s.value.nextContentType)==null?void 0:u.id)===3?"التطبيق":((p=s.value.nextContentType)==null?void 0:p.id)===1?"الملف":((N=s.value.nextContentType)==null?void 0:N.id)===2?"صوت":"الرابط"),1),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:s.value.prevName,class:"input_border w-full mb-3 text-end",modelValue:s.value.nextName,"onUpdate:modelValue":e[20]||(e[20]=V=>s.value.nextName=V)},null,8,["placeholder","modelValue"])]),l("div",ca,[l("label",ma," نوع "+y(((n=s.value.nextContentType)==null?void 0:n.id)===3?"التطبيق":((c=s.value.nextContentType)==null?void 0:c.id)===1?"الملف":((A=s.value.nextContentType)==null?void 0:A.id)===2?"صوت":"الرابط"),1),a(U,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:s.value.nextContentSubType,"onUpdate:modelValue":e[21]||(e[21]=V=>s.value.nextContentSubType=V),options:Fe.value,optionLabel:"name",placeholder:s.value.prevContentSubType},null,8,["modelValue","options","placeholder"])]),((R=s.value.nextContentType)==null?void 0:R.id)===3||((he=s.value.nextContentType)==null?void 0:he.id)===4?(x(),$("div",pa,[l("label",fa,y(((_e=s.value.nextContentType)==null?void 0:_e.id)===3?"التطبيق":"الرابط"),1),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:((ke=s.value.nextContentType)==null?void 0:ke.id)===3?"اللصق رابط التطبيق":"اللصق الرابط",modelValue:s.value.nextContentLink,"onUpdate:modelValue":e[22]||(e[22]=V=>s.value.nextContentLink=V),class:"input_border w-full mb-3 text-end"},null,8,["placeholder","modelValue"])])):_("",!0),((we=s.value.nextContentType)==null?void 0:we.id)===1||(($e=s.value.nextContentType)==null?void 0:$e.id)===2?(x(),$("div",ya,[l("label",ba,y(((Te=s.value.nextContentType)==null?void 0:Te.id)===1?"الملفات":"الصوتيات"),1),a(X,{name:"demo[]",multiple:!0,accept:((je=s.value.nextContentType)==null?void 0:je.id)===1?"application/pdf":"audio/*",onSelect:dl},{header:f(({chooseCallback:V,uploadCallback:ne,clearCallback:ut,files:I})=>[k.value>0?(x(),E(G,{key:0,value:k.value,class:"w-full mt-3"},null,8,["value"])):_("",!0),k.value>0?(x(),$("p",xa,y(k.value)+"% ",1)):_("",!0),l("div",ga,[l("div",Ca,[a(o,{onClick:sl=>V(),icon:"pi pi-images",rounded:"",outlined:"",severity:"secondary"},null,8,["onClick"]),a(o,{onClick:sl=>tl(ne),style:{display:"none"},icon:"pi pi-cloud-upload",rounded:"",outlined:"",severity:"success",disabled:!I||I.length===0},null,8,["onClick","disabled"]),a(o,{onClick:al,icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!I||I.length===0},null,8,["disabled"])]),Y(" "+y(s.value.prevfile),1)])]),_:1},8,["accept"])])):_("",!0),l("div",ha,[a(o,{loading:v.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:Vl,label:"تعديل المحتوى"},null,8,["loading"])])])])]}),_:1},8,["visible"]),a(C,{header:"إضافة فديو",visible:ae.value,"onUpdate:visible":e[24]||(e[24]=u=>ae.value=u),style:{width:"90vh"},modal:!0},{default:f(()=>[l("div",_a,[e[57]||(e[57]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," ارفع الفديوهات ",-1)),a(X,{name:"demo[]",multiple:!0,accept:"video/*",onSelect:Fl},{header:f(({chooseCallback:u,uploadCallback:p,clearCallback:N,files:n})=>[l("div",ka,[l("div",wa,[a(o,{onClick:c=>u(),icon:"pi pi-images",rounded:"",outlined:"",severity:"secondary"},null,8,["onClick"]),a(o,{onClick:c=>tl(p),style:{display:"none"},icon:"pi pi-cloud-upload",rounded:"",outlined:"",severity:"success",disabled:!n||n.length===0},null,8,["onClick","disabled"]),a(o,{onClick:al,icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!n||n.length===0},null,8,["disabled"])])])]),content:f(({files:u,uploadedFiles:p,removeUploadedFileCallback:N,removeFileCallback:n})=>[l("div",$a,[k.value>0?(x(),E(G,{key:0,value:k.value,class:"w-full mt-3"},null,8,["value"])):_("",!0),k.value>0?(x(),$("p",Ta,y(k.value)+"% ",1)):_("",!0),u.length>0?(x(),$("div",ja,[l("div",Va,[(x(!0),$(Me,null,nl(u,(c,A)=>(x(),$("div",{key:c.name+c.type+c.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[l("div",za,[l("iframe",{role:"presentation",alt:c.name,src:c.objectURL,width:"auto",height:"50"},null,8,Sa)]),l("span",Ua,y(c.name),1),l("div",null,y(et(c.size)),1),a(lt,{value:"Pending",severity:"warn"}),a(o,{icon:"pi pi-times",onClick:R=>Pl(c,n,A),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):_("",!0)])]),empty:f(()=>e[56]||(e[56]=[l("div",{class:"flex items-center justify-center flex-col"},[l("i",{class:"pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-4xl !text-muted-color"}),l("p",{class:"mt-6 mb-0"},"اسحب الفديو او اختر الملف")],-1)])),_:1}),l("div",La,[a(o,{onClick:$l,loading:v.value,style:{"font-size":"medium"},disabled:!Q.value,class:"w-full btn-icon",unstyled:!0,label:"حفظ الفديو"},null,8,["loading","disabled"])])])]),_:1},8,["visible"]),a(C,{header:"إضافة كورس",visible:pe.value,"onUpdate:visible":e[27]||(e[27]=u=>pe.value=u),style:{width:"70vh"},modal:!0},{default:f(()=>[l("div",Na,[l("div",Aa,[e[58]||(e[58]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم كورس ",-1)),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:"الإسم",class:"input_border w-full mb-3 text-end",modelValue:M.value.name,"onUpdate:modelValue":e[25]||(e[25]=u=>M.value.name=u)},null,8,["modelValue"])]),l("div",Ba,[e[59]||(e[59]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," وصــف الكورس",-1)),a(tt,{placeholder:"الوصف",modelValue:M.value.des,"onUpdate:modelValue":e[26]||(e[26]=u=>M.value.des=u),autoResize:!0,rows:"2",class:"w-full text-end"},null,8,["modelValue"])]),l("div",qa,[a(o,{loading:v.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:zl,label:"إنشاء كورس"},null,8,["loading"])])])]),_:1},8,["visible"]),a(C,{header:"تعديل كورس",visible:fe.value,"onUpdate:visible":e[29]||(e[29]=u=>fe.value=u),style:{width:"70vh"},modal:!0},{default:f(()=>[l("div",Da,[e[60]||(e[60]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم كورس ",-1)),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:F.value.prevName,class:"input_border w-full mb-3 text-end",modelValue:F.value.nextName,"onUpdate:modelValue":e[28]||(e[28]=u=>F.value.nextName=u)},null,8,["placeholder","modelValue"]),l("div",Ea,[a(o,{loading:v.value,label:"تعديل كورس",style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:Ll},null,8,["loading"])])])]),_:1},8,["visible"]),a(C,{header:"تعديل الفديو",visible:Se.value,"onUpdate:visible":e[32]||(e[32]=u=>Se.value=u),style:{width:"70vh"},modal:!0},{default:f(()=>[l("div",Ma,[l("div",Fa,[e[61]||(e[61]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم الفديو ",-1)),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:ol.value,class:"input_border w-full mb-3 text-end",modelValue:J.value,"onUpdate:modelValue":e[30]||(e[30]=u=>J.value=u)},null,8,["placeholder","modelValue"])]),l("div",Oa,[a(o,{loading:v.value,style:{"font-size":"medium"},disabled:J.value==="",class:"w-full",severity:"help",onClick:e[31]||(e[31]=u=>Bl()),label:"تعديل الفديو"},null,8,["loading","disabled"])])])]),_:1},8,["visible"]),l("div",Ra,[l("div",Ia,[e[113]||(e[113]=l("h5",{style:{"font-size":"large"}},"المواد",-1)),a(ot,{value:z.value,paginator:!W.value,rows:7},oe({header:f(()=>{var u,p,N,n,c;return[l("div",Ha,[l("div",null,[a(b,{modelValue:We.value,"onUpdate:modelValue":e[33]||(e[33]=A=>We.value=A),optionLabel:"search",dropdown:"",display:"chip",forceSelection:!0,completeOnFocus:!1,panelStyle:{display:"none"},"dropdown-icon":"pi pi-search",suggestions:K.value,placeholder:"بحث",onComplete:e[34]||(e[34]=A=>Dl(A)),onInput:ql,field:"search"},null,8,["modelValue","suggestions"])]),l("div",Ja,[W.value?_("",!0):(x(),$("div",Ka,[a(Ee),a(Vt,{title:"تقرير المواد",onSaveReport:e[35]||(e[35]=A=>rl(!0)),loading:q.value},null,8,["loading"]),a(o,{severity:"help",class:"btn-icon p-3",icon:"pi pi-trash",loading:v.value,disabled:((u=h.value)==null?void 0:u.length)!=1,onClick:e[36]||(e[36]=A=>{var R;return Al(A,(R=h.value[0])==null?void 0:R.slug)})},null,8,["loading","disabled"]),a(o,{icon:"pi pi-pencil",class:"btn-icon p-3",disabled:((p=h.value)==null?void 0:p.length)!=1,severity:"help",onClick:gl},null,8,["disabled","onClick"]),a(o,{severity:"help",outlined:"",class:"btn-icon p-4",label:"عرض المحتوى",disabled:((N=h.value)==null?void 0:N.length)!=1,onClick:Cl},null,8,["disabled"]),a(o,{onClick:hl,label:"إضافة مادة",severity:"help",outlined:"",class:"btn-icon p-4"})])),W.value?(x(),$("div",Qa,[a(Ee),a(o,{severity:"help",outlined:"",class:"btn-icon p-4",icon:"pi pi-arrow-left",label:"المواد",disabled:((n=h.value)==null?void 0:n.length)!=1,onClick:e[37]||(e[37]=A=>W.value=!1)},null,8,["disabled"]),a(o,{onClick:yl,style:{"font-size":"medium"},label:"إضافة فديو",severity:"help",outlined:"",disabled:((c=H.value)==null?void 0:c.length)!=1},null,8,["disabled"]),a(o,{onClick:_l,style:{"font-size":"medium"},label:"إضافة كورس",severity:"help",outlined:""}),a(o,{onClick:wl,label:"إضافة محتوى",severity:"help",outlined:"",class:"btn-icon p-4"})])):_("",!0)])])]}),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",Wa,[e[62]||(e[62]=l("br",null,null,-1)),a(Z,{size:"sm",color:"help",class:"flex justify-center"}),e[63]||(e[63]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... يرجى الانتظار ",-1)),e[64]||(e[64]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",Ga,[e[65]||(e[65]=l("br",null,null,-1)),a(P,{size:"lm",class:"flex justify-center"}),e[66]||(e[66]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على نتائج",-1)),e[67]||(e[67]=l("br",null,null,-1))])]),key:"1"},W.value?{name:"list",fn:f(u=>{var p,N;return[l("div",Xa,[a(st,{value:"1"},{default:f(()=>[a(at,null,{default:f(()=>[a(se,{style:ue({color:g.value==="4"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="4"?"bold":"normal"}),value:"4",onClick:e[38]||(e[38]=n=>g.value="4")},{default:f(()=>e[68]||(e[68]=[Y("روابط")])),_:1},8,["style"]),a(se,{style:ue({color:g.value==="3"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="3"?"bold":"normal"}),value:"3",onClick:e[39]||(e[39]=n=>g.value="3")},{default:f(()=>e[69]||(e[69]=[Y("تطبيقات")])),_:1},8,["style"]),a(se,{style:ue({color:g.value==="2"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="2"?"bold":"normal"}),value:"2",onClick:e[40]||(e[40]=n=>g.value="2")},{default:f(()=>e[70]||(e[70]=[Y("صوتيات")])),_:1},8,["style"]),wt(a(se,{style:ue({color:g.value==="6"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="6"?"bold":"normal"}),value:"6",onClick:e[41]||(e[41]=n=>g.value="6")},{default:f(()=>e[71]||(e[71]=[Y("فديوهات")])),_:1},8,["style"]),[[$t,ul.value]]),a(se,{style:ue({color:g.value==="5"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="5"?"bold":"normal"}),value:"5",onClick:e[42]||(e[42]=n=>g.value="5")},{default:f(()=>e[72]||(e[72]=[Y("كورسات")])),_:1},8,["style"]),a(se,{style:ue({color:g.value==="1"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="1"?"bold":"normal"}),value:"1",onClick:e[43]||(e[43]=n=>g.value="1")},{default:f(()=>e[73]||(e[73]=[Y("ملفات")])),_:1},8,["style"])]),_:1})]),_:1})]),g.value==="1"?(x(),E(Ce,{key:0,value:L.value.files.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},oe({item:f(n=>[l("div",Ya,[l("div",Za,[l("div",Pa,[l("a",{class:"rowName",href:Je.value+"/storage/subject/pdf/"+n.data.content_url,target:"_blank",rel:"noopener noreferrer"},y(n.data.content_url),9,es),a(o,{icon:"pi pi-file-pdf",class:"ml-2",severity:"help",outlined:""})])]),l("div",ls,y("نوع الملف  : "+re(n.data.subtype)),1),l("div",ts,[l("span",null,[a(o,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Le(n.data.content_name,n.data.content_url,n.data.subtype,1,n.data.slug)},null,8,["onClick"]),a(o,{icon:"pi pi-trash",loading:v.value,severity:"danger",outlined:"",onClick:c=>Ue(c,n.data.slug)},null,8,["loading","onClick"])]),l("div",as,y(n.data.content_name),1)])])]),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",ss,[e[74]||(e[74]=l("br",null,null,-1)),a(Z,{size:"sm",color:"help",class:"flex justify-center"}),e[75]||(e[75]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الملفات يرجى الانتظار ",-1)),e[76]||(e[76]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",ns,[e[77]||(e[77]=l("br",null,null,-1)),a(P,{size:"lm",class:"flex justify-center"}),e[78]||(e[78]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على ملفات لهاذي المادة ",-1)),e[79]||(e[79]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):_("",!0),g.value==="2"?(x(),E(Ce,{key:1,value:L.value.audios.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},oe({item:f(n=>[l("div",os,[l("div",us,[l("div",is,[l("audio",rs,[l("source",{src:Je.value+"/storage/subject/audio/"+n.data.content_url,type:"audio/mpeg"},null,8,ds)])])]),l("div",vs,y("نوع الصوت  : "+re(n.data.subtype)),1),l("div",cs,[l("span",null,[a(o,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Le(n.data.content_name,n.data.content_url,n.data.subtype,2,n.data.slug)},null,8,["onClick"]),a(o,{icon:"pi pi-trash",loading:v.value,severity:"danger",outlined:"",onClick:c=>Ue(c,n.data.slug)},null,8,["loading","onClick"])]),l("div",ms,y(n.data.content_name),1)])])]),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",ps,[e[80]||(e[80]=l("br",null,null,-1)),a(Z,{size:"sm",color:"help",class:"flex justify-center"}),e[81]||(e[81]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل صوتيات يرجى الانتظار ",-1)),e[82]||(e[82]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",fs,[e[83]||(e[83]=l("br",null,null,-1)),a(P,{size:"lm",class:"flex justify-center"}),e[84]||(e[84]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على صوتيات لهاذي المادة ",-1)),e[85]||(e[85]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):_("",!0),g.value==="3"?(x(),E(Ce,{key:2,value:L.value.apps.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},oe({item:f(n=>[l("div",ys,[l("div",bs,[l("div",xs,[l("a",{class:"rowName",href:n.data.content_url,target:"_blank",rel:"noopener noreferrer"},y(n.data.content_url),9,gs),a(o,{icon:"pi pi-android",class:"ml-2",severity:"help",outlined:""})])]),l("div",Cs,y("نوع البرنامج  : "+re(n.data.subtype)),1),l("div",hs,[l("span",null,[a(o,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Le(n.data.content_name,n.data.content_url,n.data.subtype,3,n.data.slug)},null,8,["onClick"]),a(o,{icon:"pi pi-trash",loading:v.value,severity:"danger",outlined:"",onClick:c=>Ue(c,n.data.slug)},null,8,["loading","onClick"])]),l("div",_s,y(n.data.content_name),1)])])]),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",ks,[e[86]||(e[86]=l("br",null,null,-1)),a(Z,{size:"sm",color:"help",class:"flex justify-center"}),e[87]||(e[87]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل التطبيقات يرجى الانتظار ",-1)),e[88]||(e[88]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",ws,[e[89]||(e[89]=l("br",null,null,-1)),a(P,{size:"lm",class:"flex justify-center"}),e[90]||(e[90]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على التطبيقات لهاذي المادة ",-1)),e[91]||(e[91]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):_("",!0),g.value==="4"?(x(),E(Ce,{key:3,class:"col-12",value:L.value.links.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},oe({item:f(n=>[l("div",$s,[l("div",Ts,[l("div",js,[l("a",{class:"rowName",href:n.data.content_url,target:"_blank",rel:"noopener noreferrer"},y(n.data.content_url),9,Vs),a(o,{icon:"pi pi-link",class:"ml-2",severity:"help",outlined:""})])]),l("div",zs,y("نوع الرابط   : "+re(n.data.subtype)),1),l("div",Ss,[l("span",null,[a(o,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Le(n.data.content_name,n.data.content_url,n.data.subtype,4,n.data.slug)},null,8,["onClick"]),a(o,{icon:"pi pi-trash",loading:v.value,severity:"danger",outlined:"",onClick:c=>Ue(c,n.data.slug)},null,8,["loading","onClick"])]),l("div",Us,y(n.data.content_name),1)])])]),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",Ls,[e[92]||(e[92]=l("br",null,null,-1)),a(Z,{size:"sm",color:"help",class:"flex justify-center"}),e[93]||(e[93]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الروابط يرجى الانتظار ",-1)),e[94]||(e[94]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",Ns,[e[95]||(e[95]=l("br",null,null,-1)),a(P,{size:"lm",class:"flex justify-center"}),e[96]||(e[96]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على الروابط لهاذي المادة ",-1)),e[97]||(e[97]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):_("",!0),g.value==="6"?(x(),E(Ce,{key:4,value:L.value.Videos,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},oe({item:f(n=>[l("div",As,[l("div",Bs,[l("div",qs,[l("iframe",{src:Je.value+"/storage/course/"+n.data.course_name+`/${n.data.video_url}${n.data.video_url.includes("?")?"&":"?"}autoplay=1`,loading:"eager",style:{width:"100%"},allowfullscreen:"",class:"w-full rounded",allow:"encrypted-media"},null,8,Ds),l("div",Es,[a(nt,{value:n.data.created_at},null,8,["value"])])])]),l("div",Ms,y(n.data.video_title),1),l("div",Fs,[l("span",null,[a(o,{onClick:c=>bl(n.data.slug,n.data.video_title,n.data.course_name),icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:""},null,8,["onClick"]),a(o,{icon:"pi pi-trash",onClick:c=>xl(c,n.data.slug),loading:v.value,severity:"danger",outlined:""},null,8,["onClick","loading"])]),l("div",Os,y(n.data.course_name),1)])])]),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",Rs,[e[98]||(e[98]=l("br",null,null,-1)),a(Z,{size:"sm",color:"help",class:"flex justify-center"}),e[99]||(e[99]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الفديوهات يرجى الانتظار ",-1)),e[100]||(e[100]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",Is,[e[101]||(e[101]=l("br",null,null,-1)),a(P,{size:"lm",class:"flex justify-center"}),e[102]||(e[102]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على فديوهات لهاذي الكورس ",-1)),e[103]||(e[103]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):_("",!0),g.value==="5"?(x(),$(Me,{key:5},[L.value.courses.length>0?(x(),$("div",{key:0,class:Tt(((N=(p=L.value)==null?void 0:p.courses)==null?void 0:N.length)>3?"divTable":"")},[e[104]||(e[104]=l("div",{class:"tbody col-12 flex flex-column mb-4 mt-4 gap-16",style:{"justify-content":"space-between","font-size":"large"}},[l("div",{class:"th"},"الإعدادات"),l("div",{class:"td"}," الحالة "),l("div",{class:"tg"}," الوصف"),l("div",{class:"tg"}," إسم كورس ")],-1)),L.value.courses.length>0?(x(!0),$(Me,{key:0},nl(L.value.courses,n=>(x(),$("div",Ws,[l("div",Gs,[a(Ee),a(o,{severity:"help",outlined:"",icon:"pi pi-eye",onClick:c=>kl(n.slug)},null,8,["onClick"]),a(o,{loading:v.value,class:"mr-3",severity:"help",outlined:"",icon:"pi pi-trash",onClick:c=>Nl(c,n.slug)},null,8,["loading","onClick"]),a(o,{severity:"help",outlined:"",icon:"pi pi-pencil",class:"mr-3",onClick:c=>Ul(n.slug,n.course_name)},null,8,["onClick"])]),l("div",Hs,[a(Ee),n.status==="inactive"?(x(),E(o,{key:0,class:"font-bold text-1xl ml-2",onClick:c=>vl(c,n.slug,n.status),icon:"pi pi-lock",label:"حظر",severity:"danger",outlined:""},null,8,["onClick"])):_("",!0),n.status==="active"?(x(),E(o,{key:1,class:"font-bold text-1xl ml-2",onClick:c=>vl(c,n.slug,n.status),icon:"pi pi-lock-open",label:"فعال ",severity:"success",outlined:""},null,8,["onClick"])):_("",!0)]),l("div",Js,[l("span",Ks,y(n.des),1)]),l("div",Qs,[a(ml,{class:"ml-3",name:"option",value:n==null?void 0:n.slug,modelValue:H.value,"onUpdate:modelValue":e[44]||(e[44]=c=>H.value=c)},null,8,["value","modelValue"]),l("span",Xs,y(n==null?void 0:n.course_name),1)])]))),256)):_("",!0)],2)):q.value?(x(),$("div",Ys,[e[105]||(e[105]=l("br",null,null,-1)),a(Z,{size:"sm",color:"help",class:"flex justify-center"}),e[106]||(e[106]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الكورسات يرجى الانتظار ",-1)),e[107]||(e[107]=l("br",null,null,-1))])):(x(),$("div",Zs,[e[108]||(e[108]=l("br",null,null,-1)),a(P,{size:"lm",class:"flex justify-center"}),e[109]||(e[109]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على الكورسات لهاذي المادة ",-1)),e[110]||(e[110]=l("br",null,null,-1))]))],64)):_("",!0)]}),key:"2"}:void 0,W.value?void 0:{name:"list",fn:f(u=>[e[112]||(e[112]=l("div",{class:"tbody w-full col-12 flex flex-column mb-6 mt-4 gap-16",style:{"justify-content":"space-between","font-size":"large"}},[l("div",{class:"td"},"التاريخ"),l("div",{class:"th"}," الجامعة "),l("div",{class:"th"}," الكلية "),l("div",{class:"th"}," التخصص "),l("div",{class:"td"}," المستوى "),l("div",{class:"td"}," الترم"),l("div",{class:"th"}," إسم المادة ")],-1)),a(C,{header:"تعديل المادة",visible:ce.value,"onUpdate:visible":e[46]||(e[46]=p=>ce.value=p),style:{width:"80vh"},modal:!0},{default:f(()=>[l("div",Ps,[e[111]||(e[111]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم المادة ",-1)),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:B.value.prevName,class:"input_border w-full mb-3 text-end",modelValue:B.value.nextName,"onUpdate:modelValue":e[45]||(e[45]=p=>B.value.nextName=p)},null,8,["placeholder","modelValue"])]),l("div",en,[a(o,{loading:v.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:Sl,label:"تعديل المادة"},null,8,["loading"])])]),_:1},8,["visible"]),(x(!0),$(Me,null,nl(u.items,p=>(x(),$("div",ln,[l("div",tn,[l("span",an,y(jt(ee).extractDate(p.created_at)),1)]),l("div",sn,[l("span",null,y(p==null?void 0:p.uni_name),1)]),l("div",nn,[l("span",null,y(p==null?void 0:p.college_name),1)]),l("div",on,[l("span",null,y(p==null?void 0:p.major_name),1)]),l("div",un,[l("span",null,y(p==null?void 0:p.level_name),1)]),l("div",rn,[l("span",null,y(p==null?void 0:p.term_name),1)]),l("div",dn,[a(ml,{class:"ml-2",name:"option",value:p,modelValue:h.value,"onUpdate:modelValue":e[47]||(e[47]=N=>h.value=N)},null,8,["value","modelValue"]),l("span",null,y(p==null?void 0:p.subject_name),1)])]))),256))]),key:"3"}]),1032,["value","paginator"])])])])}}},kn=yt(vn,[["__scopeId","data-v-fe9a0f91"]]);export{kn as default};
