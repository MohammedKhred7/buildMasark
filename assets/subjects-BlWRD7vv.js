import{s as ut,a as rt}from"./index-Nw62TRQM.js";import{s as dt}from"./index-CPPysieM.js";import{s as vt}from"./index-DDa7uEIE.js";import{s as ct,a as mt,b as pt,c as ft}from"./index-CdYrSPgq.js";import{_ as yt,a as bt,z as xt,r as u,j as gt,k as Ct,w as ze,o as ht,f as V,c as $,h as a,A as D,B as h,l as f,b as l,m as ne,i as _t,n as kt,g as x,t as b,C as Q,F as Fe,e as sl,D as oe,E as wt,G as $t,H as Tt,d as Vt,p as jt,q as zt,v as St,s as Ut,I as Lt,x as Nt}from"./index-DjPLoeWi.js";import{s as At}from"./index-BiBlRmX8.js";import{s as Bt,a as qt}from"./index-DYrz440d.js";import{s as Et}from"./index-KMRi1HSj.js";import{L as Dt}from"./loadding-CVb4qRT1.js";import{l as X,N as Y}from"./NotFound-DRH08-Sf.js";const Mt={class:"grid text-end"},Ft={class:"col-12",style:{"text-align":"end"}},Ot={class:"w-full mt-3 mb-3"},It={class:"w-full mt-2 mb-2"},Rt={class:"w-full mt-2 mb-2"},Wt={class:"w-full mt-2 mb-2"},Gt={class:"w-full mt-2 mb-2"},Ht={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Jt={class:"col-12",style:{"text-align":"end"}},Kt={class:"w-full mt-2 mb-4"},Qt={key:0},Xt={class:"w-full mt-2 mb-2"},Yt={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},Zt={class:"w-full mt-2 mb-2"},Pt={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},ea={key:0,class:"w-full mt-2 mb-2"},la={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},ta={key:1,class:"w-full mt-2 mb-2"},aa={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},sa={key:1,class:"text-center text-sm"},na={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},oa={class:"flex gap-2"},ia={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},ua={class:"col-12",style:{"text-align":"end"}},ra={class:"w-full mt-2 mb-4"},da={class:"w-full mt-2 mb-2"},va={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},ca={class:"w-full mt-2 mb-2"},ma={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},pa={key:0,class:"w-full mt-2 mb-2"},fa={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},ya={key:1,class:"w-full mt-2 mb-2"},ba={class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},xa={key:1,class:"text-center text-sm"},ga={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},Ca={class:"flex gap-2"},ha={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},_a={class:"col-12",style:{"text-align":"end"}},ka={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},wa={class:"flex gap-2"},$a={class:"flex flex-col gap-8 pt-4"},Ta={key:1,class:"text-center text-sm"},Va={key:2},ja={class:"flex flex-wrap gap-4"},za={class:"relative mx-auto"},Sa=["alt","src"],Ua={class:"font-medium text-ellipsis max-w-40 whitespace-nowrap overflow-hidden"},La={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Na={class:"col-12",style:{"text-align":"end"}},Aa={class:"w-full"},Ba={class:"w-full"},qa={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Ea={class:"col-12",style:{"text-align":"end"}},Da={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Ma={class:"col-12",style:{"text-align":"end"}},Fa={class:"w-full"},Oa={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},Ia={class:"col-12"},Ra={class:"card"},Wa={class:"loading-state"},Ga={class:"empty-state"},Ha={style:{"justify-content":"space-between"},class:"flex mt-2 flex-column md:flex-row md:justify-content-between md:align-items-center"},Ja={class:"text-right"},Ka={key:0,class:"flex gap-4"},Qa={key:1,class:"flex gap-4"},Xa={style:{"justify-content":"center"},class:"w-full juastify-center flex font-medium"},Ya={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},Za={class:"mb-4"},Pa={class:"audio-player"},es=["href"],ls={class:"mb-4 font-medium",style:{"text-align":"start",direction:"rtl"}},ts={class:"flex justify-between items-center"},as={class:"mt-0 text-xl"},ss={class:"loading-state"},ns={class:"empty-state"},os={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},is={class:"mb-4"},us={class:"audio-player"},rs={controls:""},ds=["src"],vs={class:"mb-4 font-medium"},cs={class:"flex justify-between items-center"},ms={class:"mt-0 text-xl"},ps={class:"loading-state"},fs={class:"empty-state"},ys={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},bs={class:"mb-4"},xs={class:"audio-player"},gs=["href"],Cs={class:"mb-4 font-medium"},hs={class:"flex justify-between items-center"},_s={class:"mt-0 text-xl"},ks={class:"loading-state"},ws={class:"empty-state"},$s={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},Ts={class:"mb-4"},Vs={class:"audio-player"},js=["href"],zs={class:"mb-4 font-medium"},Ss={class:"flex justify-between items-center"},Us={class:"mt-0 text-xl"},Ls={class:"loading-state"},Ns={class:"empty-state"},As={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},Bs={class:"mb-4"},qs={class:"relative mx-auto"},Es=["src"],Ds={class:"dark:bg-surface-900 absolute rounded-border",style:{left:"5px",top:"5px"}},Ms={class:"mb-4 font-medium"},Fs={class:"flex justify-between items-center"},Os={class:"mt-0 text-xl"},Is={class:"loading-state"},Rs={class:"empty-state"},Ws={style:{"justify-content":"space-between"},class:"flex mb-4 col-12 flex-column gap-16 p-2 md:justify-content-between md:align-items-center"},Gs={class:"th"},Hs={class:"td"},Js={class:"tg mt-3"},Ks={class:"font-medium text-1xl"},Qs={class:"tg mt-3"},Xs={class:"font-medium text-1xl"},Ys={key:1,class:"loading-state"},Zs={key:2,class:"empty-state"},Ps={class:"col-12",style:{"text-align":"end"}},en={style:{display:"flex","justify-content":"center","margin-top":"1rem","margin-bottom":"1rem"}},ln={style:{"justify-content":"space-between"},class:"flex mb-4 col-12 flex-column gap-16 p-2 md:justify-content-between md:align-items-center"},tn={class:"td mt-1"},an={class:"font-medium text-1xl cursor-pointer"},sn={class:"th mt-1 font-medium text-1xl"},nn={class:"th mt-1 font-medium text-1xl"},on={class:"th mt-1 font-medium text-1xl"},un={class:"td mt-1 font-medium text-1xl"},rn={class:"td mt-1 font-medium text-1xl"},dn={class:"th mt-1 font-medium text-1xl"},vn={__name:"subjects",setup(cn){const Z=bt(),ml=xt(),P=u(!1),{proxy:w}=_t(),m=gt(),T=JSON.parse(localStorage.getItem("token")),ie=Ct();u("");const _=u([]),H=u([]),B=u({prevName:"",nextName:"",prevTrem_name:"",nextTrem_name:null,slug:""}),s=u({prevName:"",nextName:"",prevContentType:"",nextContentType:null,prevContentSubType:"",nextContentSubType:null,prevContentLink:null,nextContentLink:null,prevfile:null,nextContentfile:null,slug:""}),q=u(!1);u(null);const Se=u([{id:1,name:"ملفات",name2:"pdf"},{id:2,name:"صوتيات ",name2:"audio"},{id:3,name:"تطبيقات ",name2:"app"},{id:4,name:"روابط ",name2:"link"}]),Oe=u([{id:1,name:"نماذج اختبارات",name2:"exam"},{id:2,name:"ملخصات ",name2:"summary"},{id:3,name:"مراجع ",name2:"reviewer"},{id:5,name:"ادوات ",name2:"tools"},{id:6,name:"شروحات ",name2:"commentary"},{id:7,name:"تطبيقات الجوال",name2:"mobile"},{id:8,name:"برامج الكمبيوتر ",name2:"computer"}]);function ue(t){const e=Oe.value.find(d=>d.name2===t);return e?e.name:null}function pl(t){return Se.value.find(d=>d.id===t)}const ee=u(""),re=u(!1),de=u(!1),ve=u(!1),j=u({files:[],courses:[],audios:[],links:[],apps:[],Videos:[]}),ce=u(!1),fl=()=>{ce.value=!ce.value},me=u(!1),Ue=u(""),nl=u(""),le=u(""),Ie=u(""),yl=(t,e,d)=>{Ue.value=t,nl.value=e,Ie.value=d,le.value="",me.value=!me.value},bl=(t,e)=>{ie.require({target:t.target,message:"هل انت متأكد من حذف الفديو",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{v.value=!0,V.request({url:w.$localhost+"/api/admin/delete-video/"+e,method:"get",headers:{Authorization:"Bearer "+T}}).then(d=>{if(d){const r=j.value.Videos.findIndex(y=>y.slug===e);r!==-1&&(j.value.Videos.splice(r,1),m.add({severity:"success",summary:"حذف الفيديو",detail:"تم حذف الفيديو بنجاح",life:3e3}))}v.value=!1}),v.value=!1},reject:()=>{}})},Le=(t,e)=>{ie.require({target:t.target,message:"هل انت متأكد من حذف المحتوى",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{v.value=!0,V.request({url:w.$localhost+"/api/admin/delete-content/"+e,method:"get",headers:{Authorization:"Bearer "+T}}).then(d=>{var r;d&&(m.add({severity:"success",summary:"حذف المحتوى",detail:"تم حذف المحتوى بنجاح  ",life:3e3}),W((r=_.value[0])==null?void 0:r.slug)),v.value=!1}),v.value=!1},reject:()=>{}})},S=u([]),xl=()=>{var t,e,d;B.value.prevName=(t=_.value[0])==null?void 0:t.subject_name,B.value.prevTrem_name=(e=_.value[0])==null?void 0:e.term_name,B.value.slug=(d=_.value[0])==null?void 0:d.slug,ve.value=!ve.value},pe=u(!1),Ne=(t,e,d,r,y)=>{var o,C,L;s.value.prevName=t,s.value.nextContentType=pl(r),s.value.prevContentType=(o=s.value.nextContentType)==null?void 0:o.name,((C=s.value.nextContentType)==null?void 0:C.id)===1||((L=s.value.nextContentType)==null?void 0:L.id)===2?s.value.prevfile=e:s.value.prevContentLink=e,s.value.prevContentSubType=ue(d),s.value.slug=y,pe.value=!pe.value},R=u(!1),gl=()=>{var t,e,d;(t=_.value[0])!=null&&t.content_type&&((e=_.value[0])==null||e.content_type.forEach(r=>{const y=Se.value.find(o=>o.name2===r.content_type);y&&(y.slug=r.slug)})),W((d=_.value[0])==null?void 0:d.slug),R.value=!R.value},Cl=()=>{re.value=!re.value},M=u({name:"",des:""}),fe=u(!1),hl=()=>{fe.value=!fe.value},ol=u(!1),_l=u(""),kl=t=>{_l.value=t,il(t),g.value="6",ol.value=!0},wl=()=>{de.value=!de.value},il=async t=>{q.value=!0;try{const e=await V.get(w.$localhost+"/api/admin/videos/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(j.value.Videos=e.data.data)}catch(e){console.error("Error fetching Majors:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}q.value=!1},$l=async()=>{var t,e,d;try{if(v.value=!0,k.value=0,!te.value.length){m.add({severity:"error",summary:"خطأ",detail:"الرجاء اختيار فيديو واحد على الأقل",life:3e3});return}if(!((t=H.value)!=null&&t.length)){m.add({severity:"error",summary:"خطأ",detail:"الرجاء اختيار كورس",life:3e3});return}const r=new FormData;te.value.forEach(o=>{r.append("video_url[]",o)}),U.value=new AbortController,(await V.post(`${w.$localhost}/api/admin/create-video/${H.value[0]}`,r,{headers:{Authorization:`Bearer ${T}`},signal:U.value.signal,onUploadProgress:o=>{o.total&&(k.value=Math.round(o.loaded*100/o.total))}})).data.status&&(m.add({severity:"success",summary:"إنشاء الفيديو",detail:"تم رفع الفيديو بنجاح",life:3e3}),te.value=null,k.value=0,ce.value=!1,il(H.value[0]),H.value=null)}catch(r){r.code==="ERR_CANCELED"?m.add({severity:"warn",summary:"تم الإلغاء",detail:"تم إلغاء رفع الفيديو",life:3e3}):m.add({severity:"error",summary:"إنشاء الفيديو",detail:((d=(e=r.response)==null?void 0:e.data)==null?void 0:d.message)||"فشل رفع الفيديو",life:3e3})}finally{v.value=!1,U.value=null}},v=u(!1),Tl=async t=>{try{if(v.value=!0,ee.value==="")m.add({severity:"error",summary:"خطاء في تسجيل المادة",detail:"الرجاء إضافة إسم المادة الجديد",life:3e3});else if(t==null||t==null)m.add({severity:"error",summary:"خطاء في تسجيل المادة",detail:"الرجاء إختيار إسم الترم  ",life:3e3});else{const e=await V.request({url:w.$localhost+"/api/admin/create-subject/"+t,method:"post",headers:{Authorization:"Bearer "+T},data:{subject_name:ee.value}});e.data.status&&(m.add({severity:"success",summary:"إنشاء المادة",detail:"تم إنشاء المادة جديد بنجاح بإسم :  "+ee.value,life:3e3}),Ol(e.data.data),ee.value="",be.value=null,re.value=!1)}}catch(e){m.add({severity:"error",summary:"إنشاء المادة",detail:e,life:3e3}),v.value=!1}finally{v.value=!1,P.value=!1}v.value=!1},Vl=async t=>{var e,d,r,y,o,C;try{if(v.value=!0,k.value=0,!s.value.nextName){m.add({severity:"error",summary:"خطأ في تسجيل المحتوى",detail:"الرجاء إضافة اسم المحتوى",life:3e3});return}const L=new FormData;if(L.append("content_name",s.value.nextName),L.append("subtype",((e=s.value.nextContentSubType)==null?void 0:e.name2)||""),((d=s.value.nextContentType)==null?void 0:d.id)===1||((r=s.value.nextContentType)==null?void 0:r.id)===2){if(!(s.value.nextContentfile instanceof File)){m.add({severity:"error",summary:"خطأ في الملف",detail:"الرجاء اختيار ملف صالح",life:3e3});return}L.append("content_url",s.value.nextContentfile)}else{if(!s.value.nextContentLink){m.add({severity:"error",summary:"خطأ في الرابط",detail:"الرجاء إدخال رابط المحتوى",life:3e3});return}L.append("content_url",s.value.nextContentLink)}U.value=new AbortController,(await V.post(`${w.$localhost}/api/admin/create-content/${t}`,L,{headers:{Authorization:`Bearer ${T}`},signal:U.value.signal,onUploadProgress:K=>{K.total&&(k.value=Math.round(K.loaded*100/K.total))}})).data.status&&(m.add({severity:"success",summary:"إنشاء المحتوى",detail:"تم إنشاء المحتوى بنجاح",life:3e3}),s.value.nextName="",s.value.nextContentLink=null,s.value.nextContentfile=null,s.value.nextContentType=null,s.value.nextContentSubType=null,de.value=!1,k.value=0,W((y=_.value[0])==null?void 0:y.slug))}catch(L){L.code==="ERR_CANCELED"?m.add({severity:"warn",summary:"تم الإلغاء",detail:"تم إلغاء رفع المحتوى",life:3e3}):m.add({severity:"error",summary:"إنشاء المحتوى",detail:((C=(o=L.response)==null?void 0:o.data)==null?void 0:C.message)||"حدث خطأ أثناء الرفع",life:3e3})}finally{v.value=!1,P.value=!1,U.value=null}},jl=async()=>{var t,e,d,r,y,o;try{if(v.value=!0,k.value=0,!s.value.slug){m.add({severity:"error",summary:"خطأ",detail:"معرف المحتوى غير موجود",life:3e3});return}if(!s.value.nextName){m.add({severity:"error",summary:"خطأ في الاسم",detail:"الرجاء إدخال اسم المحتوى",life:3e3});return}const C=new FormData;C.append("content_name",s.value.nextName),C.append("subtype",((t=s.value.nextContentSubType)==null?void 0:t.name2)||""),((e=s.value.nextContentType)==null?void 0:e.id)===1||((d=s.value.nextContentType)==null?void 0:d.id)===2?s.value.nextContentfile instanceof File&&C.append("content_url",s.value.nextContentfile):s.value.nextContentLink&&C.append("content_url",s.value.nextContentLink),U.value=new AbortController,(await V.post(`${w.$localhost}/api/admin/update-content/${s.value.slug}`,C,{headers:{Authorization:`Bearer ${T}`},signal:U.value.signal,onUploadProgress:G=>{G.total&&(k.value=Math.round(G.loaded*100/G.total))}})).data.status&&(m.add({severity:"success",summary:"تعديل المحتوى",detail:"تم تعديل المحتوى بنجاح",life:3e3}),s.value.nextName="",s.value.nextContentLink=null,s.value.nextContentfile=null,s.value.nextContentType=null,s.value.nextContentSubType=null,s.value.slug="",pe.value=!1,k.value=0,W((r=_.value[0])==null?void 0:r.slug))}catch(C){C.code==="ERR_CANCELED"?m.add({severity:"warn",summary:"تم الإلغاء",detail:"تم إلغاء رفع التعديل",life:3e3}):m.add({severity:"error",summary:"تعديل المحتوى",detail:((o=(y=C.response)==null?void 0:y.data)==null?void 0:o.message)||"حدث خطأ أثناء التحديث",life:3e3})}finally{v.value=!1,P.value=!1,U.value=null}},zl=async()=>{var t;try{v.value=!0,(await V.request({url:w.$localhost+"/api/admin/create-course2subject/"+((t=_.value[0])==null?void 0:t.slug),method:"post",headers:{Authorization:"Bearer "+T},data:{course_name:M.value.name,des:M.value.des}})).data.status&&(m.add({severity:"success",summary:"إنشاء كورس",detail:"تم إنشاء كورس جديد بنجاح بإسم :  "+M.value.name,life:3e3}),M.value.name="",M.value.des="",fe.value=!1,W(_.value[0].slug))}catch(e){m.add({severity:"error",summary:"إنشاء كورس",detail:e,life:3e3}),v.value=!1}finally{v.value=!1,P.value=!1}v.value=!1},Sl=async()=>{v.value=!0;try{const t=await V.request({url:w.$localhost+"/api/admin/update-subject/"+B.value.slug,method:"post",headers:{Authorization:"Bearer "+T},data:{subject_name:B.value.nextName}});t&&(m.add({severity:"success",summary:"تعديل المادة",detail:"تم تعديل المادة بنجاح  ",life:3e3}),Rl(B.value.slug,t.data.data),ve.value=!1,B.value.nextName="",B.value.prevName="",B.value.prevTrem_name="",B.value.slug="",B.nextTrem_name=null,_.value=null)}catch(t){m.add({severity:"error",summary:"تعديل المادة",detail:t,life:3e3})}finally{v.value=!1}v.value=!1},ul=async t=>{q.value=!0;try{let e=Z.extractDateInput(Z.from),d=Z.extractDateInput(Z.to);const r=await V.get(w.$localhost+"/api/admin/subjects",{headers:{Authorization:"Bearer "+T},params:{from:t?e:null,to:t?d:null}});r.status===200&&(S.value=Object.values(r.data.data).map(y=>(y.search=`${y.subject_name} ${y.term_name} ${y.level_name} ${y.major_name} ${y.college_name} ${y.uni_name}`,y)),E.value=S.value)}catch(e){console.error("Error fetching universities:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}q.value=!1,Z.displayReport=!1},F=u({prevName:"",nextName:"",slug:""}),ye=u(!1),Ul=(t,e)=>{F.value.prevName=e,F.value.slug=t,ye.value=!ye.value},W=async t=>{q.value=!0;try{const e=await V.get(w.$localhost+"/api/admin/contents/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(e.data.data.contents.forEach(d=>{switch(d.content_type){case"link":j.value.links=d;break;case"app":j.value.apps=d;break;case"pdf":j.value.files=d;break;case"audio":j.value.audios=d;break}}),j.value.courses=e.data.data.course)}catch(e){console.error("Error fetching universities:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}q.value=!1},Ll=async()=>{v.value=!0;try{await V.request({url:w.$localhost+"/api/admin/update-course/"+F.value.slug,method:"post",headers:{Authorization:"Bearer "+T},data:{course_name:F.value.nextName}})&&(m.add({severity:"success",summary:"تعديل كورس",detail:"تم تعديل كورس بنجاح  ",life:3e3}),F.value.nextName="",F.value.slug="",W(_.value[0].slug),ye.value=!1)}catch(t){m.add({severity:"error",summary:"تعديل كورس",detail:t,life:3e3})}finally{v.value=!1}v.value=!1},Nl=(t,e)=>{ie.require({target:t.target,message:"هل انت متأكد من حذف كورس",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{v.value=!0,V.request({url:w.$localhost+"/api/admin/delete-course/"+e,method:"get",headers:{Authorization:"Bearer "+T}}).then(d=>{d&&(m.add({severity:"success",summary:"حذف كورس",detail:"تم حذف كورس بنجاح  ",life:3e3}),W(_.value[0].slug)),v.value=!1}),v.value=!1},reject:()=>{}})},Al=(t,e)=>{ie.require({target:t.target,message:"هل انت متأكد من حذف المادة",icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:async()=>{v.value=!0;try{(await V.request({url:w.$localhost+"/api/admin/delete-subject/"+e,method:"get",headers:{Authorization:"Bearer "+T}})).data.status?(m.add({severity:"success",summary:"حذف المادة",detail:"تم حذف المادة بنجاح  ",life:3e3}),Il(e),_.value=null):m.add({severity:"error",summary:"حذف المادة",detail:"لا يمكن حذف المادة لانه مرتبط بمحتوى ",life:3e3})}catch(d){m.add({severity:"error",summary:"خطأ في حذف الالمادة",detail:d.message,life:3e3})}finally{v.value=!1}v.value=!1},reject:()=>{}})},Bl=async()=>{var t;try{v.value=!0;const e=await V.request({url:w.$localhost+`/api/admin/update-video/${Ie.value}/${Ue.value}`,method:"post",headers:{Authorization:"Bearer "+T},data:{video_title:le.value}});if((t=e.data)!=null&&t.status){const d=e.data.data,r=j.value.Videos.findIndex(y=>y.slug===Ue.value);r!==-1&&(j.value.Videos[r]={...j.value.Videos[r],...d}),m.add({severity:"success",summary:"تعديل الفيديو",detail:"تم تعديل اسم الفيديو بنجاح: "+d.video_title,life:3e3}),le.value="",Ie.value="",Ue.value="",me.value=!1}}catch(e){m.add({severity:"error",summary:"تعديل الفديو",detail:e,life:3e3}),v.value=!1}finally{v.value=!1,P.value=!1}v.value=!1},J=u([]),Re=u([]),E=u([]),ql=()=>{J.value=[...E.value],S.value=E.value},El=t=>{setTimeout(()=>{t.query.trim().length!=null||t.query.trim().length!=""?t.inputType==="backspace"||t.query.trim().length===null?(J.value=[...E.value],S.value=E.value):(J.value=E.value.filter(e=>e.search.toLowerCase().includes(t.query.toLowerCase())),S.value=J.value):S.value=E.value},50)};ze(Re.value,t=>{t.length!==0?(J.value=t.filter(e=>e.search),S.value=J.value):S.value=E.value},{deep:!0});const be=u(null),We=u([]);function Dl(t){setTimeout(()=>{t.query.trim().length?We.value=Ge.value.filter(e=>e.term_name.toLowerCase().includes(t.query.toLowerCase())):We.value=[...Ge.value]},250)}const Ge=u([]),Ae=u(!1),Ml=async t=>{be.value=null,Ae.value=!0;try{const e=await V.get(w.$localhost+"/api/admin/terms/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(Ge.value=e.data.data)}catch(e){console.error("Error fetching Trems:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}Ae.value=!1},g=u("1"),He=u(w.$localhost);ht(()=>{ul(),Hl()});const rl=t=>{s.value.nextContentfile=t.files[0]},te=u([]),Fl=t=>{te.value=t.files},dl=(t,e,d)=>{let r="",y="",o="";d=="active"?(r="هل انت متأكد من حظر الكورس",y=" تم حظر الكورس بنجاح  ",o="inactive"):(r="هل انت متأكد من تفعيل الكورس",y=" تم تفعيل الكورس بنجاح  ",o="active"),ie.require({target:t.target,message:r,icon:"pi pi-exclamation-triangle",rejectProps:{label:"الغاء",severity:"secondary",outlined:!0},acceptProps:{severity:"info",label:"موافق"},accept:()=>{V.request({url:w.$localhost+"/api/admin/update-course/"+e,method:"post",headers:{Authorization:"Bearer "+T},data:{status:o}}).then(C=>{C&&(m.add({severity:"success",summary:"حالة الكورس",detail:y,life:3e3}),W(_.value[0].slug))})},reject:()=>{}})};function Ol(t){let d=(Array.isArray(t)?t:[t]).map(r=>(r.search=`${r.subject_name} ${r.term_name} ${r.level_name} ${r.major_name} ${r.college_name} ${r.uni_name}`,r));S.value=[...d,...S.value],E.value=S.value}function Il(t){const e=S.value.findIndex(d=>d.slug===t);e!==-1&&S.value.splice(e,1),E.value=S.value}function Rl(t,e){const d=S.value.findIndex(r=>r.slug===t);if(d!==-1){const r={...e,search:`${e.subject_name} ${e.term_name} ${e.level_name} ${e.major_name} ${e.college_name} ${e.uni_name}`};S.value.splice(d,1,r),E.value=S.value}}const xe=u(null),Je=u([]);function Wl(t){setTimeout(()=>{t.query.trim().length?Je.value=Ke.value.filter(e=>e.college_name.toLowerCase().includes(t.query.toLowerCase())):Je.value=[...Ke.value]},250)}const Ke=u([]),Be=u(!1),Gl=async t=>{xe.value=null,Be.value=!0;try{const e=await V.get(w.$localhost+"/api/admin/colleges/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(Ke.value=e.data)}catch(e){console.error("Error fetching Colleges:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}Be.value=!1},Qe=u([]),vl=u(!1),Hl=async()=>{vl.value=!0;try{const t=await V.get(w.$localhost+"/api/admin/universties",{headers:{Authorization:"Bearer "+T}});t.status===200&&(Qe.value=t.data.data)}catch(t){console.error("Error fetching universities:",t),m.add({severity:"error",summary:"Error",detail:t.message,life:4e3})}vl.value=!1},qe=u(null),Xe=u([]);function Jl(t){setTimeout(()=>{t.query.trim().length?Xe.value=Qe.value.filter(e=>e.uni_name.toLowerCase().includes(t.query.toLowerCase())):Xe.value=[...Qe.value]},250)}const ge=u(null),Ye=u([]);function Kl(t){setTimeout(()=>{t.query.trim().length?Ye.value=Ze.value.filter(e=>e.major_name.toLowerCase().includes(t.query.toLowerCase())):Ye.value=[...Ze.value]},250)}const Ze=u([]),Ee=u(!1),Ql=async t=>{ge.value=null,Ee.value=!0;try{const e=await V.get(w.$localhost+"/api/admin/majors/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(Ze.value=e.data.data)}catch(e){console.error("Error fetching Majors:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}Ee.value=!1},Ce=u(null),Pe=u([]);function Xl(t){setTimeout(()=>{t.query.trim().length?Pe.value=el.value.filter(e=>e.level_name.toLowerCase().includes(t.query.toLowerCase())):Pe.value=[...el.value]},250)}const el=u([]),De=u(!1),Yl=async t=>{Ce.value=null,De.value=!0;try{const e=await V.get(w.$localhost+"/api/admin/levels/"+t,{headers:{Authorization:"Bearer "+T}});e.status===200&&(el.value=e.data.data)}catch(e){console.error("Error fetching Levels:",e),m.add({severity:"error",summary:"Error",detail:e.message,life:4e3})}De.value=!1};ze(qe,(t,e)=>{t!=null&&t.id&&t!==e&&Gl(t.id)}),ze(xe,(t,e)=>{t!=null&&t.college_id&&t!==e&&Ql(t.college_id)}),ze(ge,(t,e)=>{t!=null&&t.id&&t!==e&&Yl(t.id)}),ze(Ce,(t,e)=>{t!=null&&t.id&&t!==e&&Ml(t.id)});const U=u(null),Zl=u(0),k=u(0);function ll(t){U.value=new AbortController,t({options:{signal:U.value.signal}})}function tl(){U.value&&(U.value.abort(),U.value=null,k.value=0)}const Pl=(t,e,d)=>{e(d),te.value=null,Zl.value=0,k.value=0,U.value&&(U.value.abort(),U.value=null)},et=t=>{const r=ml.config.locale.fileSizeTypes;if(t===0)return`0 ${r[0]}`;const y=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,y)).toFixed(3))} ${r[y]}`};return(t,e)=>{const d=zt,r=St,y=rt,o=Ut,C=kt,L=Et,G=Bt,K=qt,lt=Lt,tt=At,Me=Nt,ae=ct,at=mt,st=pt,he=ft,nt=vt,cl=dt,ot=ut;return x(),$("div",Mt,[a(d),P.value?(x(),D(Dt,{key:0,"loading-overlay":!0,size:"sm",text:"يرجى الإنتظار",center:!0})):h("",!0),a(C,{header:"إضافة المادة",visible:re.value,"onUpdate:visible":e[12]||(e[12]=i=>re.value=i),style:{width:"70vh"},modal:!0},{default:f(()=>[l("div",Ft,[e[53]||(e[53]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم المادة ",-1)),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:"الإسم",class:"input_border w-full mb-3 text-end",modelValue:ee.value,"onUpdate:modelValue":e[0]||(e[0]=i=>ee.value=i)},null,8,["modelValue"]),l("div",Ot,[e[48]||(e[48]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم الجامعة ",-1)),a(y,{class:"w-full text-end",modelValue:qe.value,"onUpdate:modelValue":e[1]||(e[1]=i=>qe.value=i),suggestions:Xe.value,optionLabel:"uni_name",placeholder:"إختيار الجامعة",dropdown:"",onComplete:e[2]||(e[2]=i=>Jl(i))},null,8,["modelValue","suggestions"])]),l("div",It,[e[49]||(e[49]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم الكلية ",-1)),a(y,{class:"w-full text-end",modelValue:xe.value,"onUpdate:modelValue":e[3]||(e[3]=i=>xe.value=i),loading:Be.value,disabled:Be.value||!qe.value,suggestions:Je.value,optionLabel:"college_name",placeholder:" إختيار الكلية",dropdown:"",onComplete:e[4]||(e[4]=i=>Wl(i))},null,8,["modelValue","loading","disabled","suggestions"])]),l("div",Rt,[e[50]||(e[50]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم التخصص ",-1)),a(y,{class:"w-full text-end",modelValue:ge.value,"onUpdate:modelValue":e[5]||(e[5]=i=>ge.value=i),loading:Ee.value,disabled:Ee.value||!xe.value,suggestions:Ye.value,optionLabel:"major_name",placeholder:" إختيار التخصص",dropdown:"",onComplete:e[6]||(e[6]=i=>Kl(i))},null,8,["modelValue","loading","disabled","suggestions"])]),l("div",Wt,[e[51]||(e[51]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم المستوى ",-1)),a(y,{class:"w-full text-end",modelValue:Ce.value,"onUpdate:modelValue":e[7]||(e[7]=i=>Ce.value=i),loading:De.value,disabled:De.value||!ge.value,suggestions:Pe.value,optionLabel:"level_name",placeholder:" إختيار المستوى",dropdown:"",onComplete:e[8]||(e[8]=i=>Xl(i))},null,8,["modelValue","loading","disabled","suggestions"])]),l("div",Gt,[e[52]||(e[52]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," إسم الترم ",-1)),a(y,{class:"w-full text-end",loading:Ae.value,disabled:Ae.value||!Ce.value,modelValue:be.value,"onUpdate:modelValue":e[9]||(e[9]=i=>be.value=i),suggestions:We.value,optionLabel:"term_name",placeholder:" إختيار الترم",dropdown:"",onComplete:e[10]||(e[10]=i=>Dl(i))},null,8,["loading","disabled","modelValue","suggestions"])]),l("div",Ht,[a(o,{loading:v.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:e[11]||(e[11]=i=>{var p;return Tl((p=be.value)==null?void 0:p.slug)}),label:"إنشاء المادة"},null,8,["loading"])])])]),_:1},8,["visible"]),a(C,{header:"إضافة المحتوى",visible:de.value,"onUpdate:visible":e[18]||(e[18]=i=>de.value=i),style:{width:"70vh"},modal:!0},{default:f(()=>{var i,p,N,n,c,A,O,_e,ke,we,$e,Te,Ve,je;return[l("div",Jt,[l("div",Kt,[e[54]||(e[54]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," نوع المحتوى ",-1)),a(L,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:s.value.nextContentType,"onUpdate:modelValue":e[13]||(e[13]=z=>s.value.nextContentType=z),options:Se.value,optionLabel:"name",placeholder:"إختيار نوع المحتوى"},null,8,["modelValue","options"])]),s.value.nextContentType!==null?(x(),$("div",Qt,[l("div",Xt,[l("label",Yt," إسم "+b(((i=s.value.nextContentType)==null?void 0:i.id)===3?"التطبيق":((p=s.value.nextContentType)==null?void 0:p.id)===1?"الملف":((N=s.value.nextContentType)==null?void 0:N.id)===2?"صوت":"الرابط"),1),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:"الإسم",class:"input_border w-full mb-3 text-end",modelValue:s.value.nextName,"onUpdate:modelValue":e[14]||(e[14]=z=>s.value.nextName=z)},null,8,["modelValue"])]),l("div",Zt,[l("label",Pt," نوع "+b(((n=s.value.nextContentType)==null?void 0:n.id)===3?"التطبيق":((c=s.value.nextContentType)==null?void 0:c.id)===1?"الملف":((A=s.value.nextContentType)==null?void 0:A.id)===2?"صوت":"الرابط"),1),a(L,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:s.value.nextContentSubType,"onUpdate:modelValue":e[15]||(e[15]=z=>s.value.nextContentSubType=z),options:Oe.value,optionLabel:"name",placeholder:" النوع "},null,8,["modelValue","options"])]),((O=s.value.nextContentType)==null?void 0:O.id)===3||((_e=s.value.nextContentType)==null?void 0:_e.id)===4?(x(),$("div",ea,[l("label",la,b(((ke=s.value.nextContentType)==null?void 0:ke.id)===3?"التطبيق":"الرابط"),1),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:((we=s.value.nextContentType)==null?void 0:we.id)===3?"اللصق رابط التطبيق":"اللصق الرابط",modelValue:s.value.nextContentLink,"onUpdate:modelValue":e[16]||(e[16]=z=>s.value.nextContentLink=z),class:"input_border w-full mb-3 text-end"},null,8,["placeholder","modelValue"])])):h("",!0),(($e=s.value.nextContentType)==null?void 0:$e.id)===1||((Te=s.value.nextContentType)==null?void 0:Te.id)===2?(x(),$("div",ta,[l("label",aa,b(((Ve=s.value.nextContentType)==null?void 0:Ve.id)===1?"الملفات":"الصوتيات"),1),a(K,{name:"demo[]",multiple:!0,accept:((je=s.value.nextContentType)==null?void 0:je.id)===1?"application/pdf":"audio/*",onSelect:rl},{header:f(({chooseCallback:z,uploadCallback:se,clearCallback:it,files:I})=>[k.value>0?(x(),D(G,{key:0,value:k.value,class:"w-full mt-3"},null,8,["value"])):h("",!0),k.value>0?(x(),$("p",sa,b(k.value)+"% ",1)):h("",!0),l("div",na,[l("div",oa,[a(o,{onClick:al=>z(),icon:"pi pi-images",rounded:"",outlined:"",severity:"secondary"},null,8,["onClick"]),a(o,{onClick:al=>ll(se),style:{display:"none"},icon:"pi pi-cloud-upload",rounded:"",outlined:"",severity:"success",disabled:!I||I.length===0},null,8,["onClick","disabled"]),a(o,{onClick:tl,icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!I||I.length===0},null,8,["disabled"])])])]),_:1},8,["accept"])])):h("",!0),l("div",ia,[a(o,{loading:v.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:e[17]||(e[17]=z=>{var se;return Vl((se=s.value.nextContentType)==null?void 0:se.slug)}),label:"إنشاء المحتوى"},null,8,["loading"])])])):h("",!0)])]}),_:1},8,["visible"]),a(C,{header:"تعديل المحتوى",visible:pe.value,"onUpdate:visible":e[23]||(e[23]=i=>pe.value=i),style:{width:"70vh"},modal:!0},{default:f(()=>{var i,p,N,n,c,A,O,_e,ke,we,$e,Te,Ve,je;return[l("div",ua,[l("div",ra,[e[55]||(e[55]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," نوع المحتوى ",-1)),a(L,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:s.value.nextContentType,"onUpdate:modelValue":e[19]||(e[19]=z=>s.value.nextContentType=z),disabled:!0,options:Se.value,optionLabel:"name",placeholder:s.value.prevContentType},null,8,["modelValue","options","placeholder"])]),l("div",null,[l("div",da,[l("label",va," إسم "+b(((i=s.value.nextContentType)==null?void 0:i.id)===3?"التطبيق":((p=s.value.nextContentType)==null?void 0:p.id)===1?"الملف":((N=s.value.nextContentType)==null?void 0:N.id)===2?"صوت":"الرابط"),1),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:s.value.prevName,class:"input_border w-full mb-3 text-end",modelValue:s.value.nextName,"onUpdate:modelValue":e[20]||(e[20]=z=>s.value.nextName=z)},null,8,["placeholder","modelValue"])]),l("div",ca,[l("label",ma," نوع "+b(((n=s.value.nextContentType)==null?void 0:n.id)===3?"التطبيق":((c=s.value.nextContentType)==null?void 0:c.id)===1?"الملف":((A=s.value.nextContentType)==null?void 0:A.id)===2?"صوت":"الرابط"),1),a(L,{class:"w-full text-surface-900 dark:text-surface-0 text-xl",modelValue:s.value.nextContentSubType,"onUpdate:modelValue":e[21]||(e[21]=z=>s.value.nextContentSubType=z),options:Oe.value,optionLabel:"name",placeholder:s.value.prevContentSubType},null,8,["modelValue","options","placeholder"])]),((O=s.value.nextContentType)==null?void 0:O.id)===3||((_e=s.value.nextContentType)==null?void 0:_e.id)===4?(x(),$("div",pa,[l("label",fa,b(((ke=s.value.nextContentType)==null?void 0:ke.id)===3?"التطبيق":"الرابط"),1),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:((we=s.value.nextContentType)==null?void 0:we.id)===3?"اللصق رابط التطبيق":"اللصق الرابط",modelValue:s.value.nextContentLink,"onUpdate:modelValue":e[22]||(e[22]=z=>s.value.nextContentLink=z),class:"input_border w-full mb-3 text-end"},null,8,["placeholder","modelValue"])])):h("",!0),(($e=s.value.nextContentType)==null?void 0:$e.id)===1||((Te=s.value.nextContentType)==null?void 0:Te.id)===2?(x(),$("div",ya,[l("label",ba,b(((Ve=s.value.nextContentType)==null?void 0:Ve.id)===1?"الملفات":"الصوتيات"),1),a(K,{name:"demo[]",multiple:!0,accept:((je=s.value.nextContentType)==null?void 0:je.id)===1?"application/pdf":"audio/*",onSelect:rl},{header:f(({chooseCallback:z,uploadCallback:se,clearCallback:it,files:I})=>[k.value>0?(x(),D(G,{key:0,value:k.value,class:"w-full mt-3"},null,8,["value"])):h("",!0),k.value>0?(x(),$("p",xa,b(k.value)+"% ",1)):h("",!0),l("div",ga,[l("div",Ca,[a(o,{onClick:al=>z(),icon:"pi pi-images",rounded:"",outlined:"",severity:"secondary"},null,8,["onClick"]),a(o,{onClick:al=>ll(se),style:{display:"none"},icon:"pi pi-cloud-upload",rounded:"",outlined:"",severity:"success",disabled:!I||I.length===0},null,8,["onClick","disabled"]),a(o,{onClick:tl,icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!I||I.length===0},null,8,["disabled"])]),Q(" "+b(s.value.prevfile),1)])]),_:1},8,["accept"])])):h("",!0),l("div",ha,[a(o,{loading:v.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:jl,label:"تعديل المحتوى"},null,8,["loading"])])])])]}),_:1},8,["visible"]),a(C,{header:"إضافة فديو",visible:ce.value,"onUpdate:visible":e[24]||(e[24]=i=>ce.value=i),style:{width:"90vh"},modal:!0},{default:f(()=>[l("div",_a,[e[57]||(e[57]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," ارفع الفديوهات ",-1)),a(K,{name:"demo[]",multiple:!0,accept:"video/*",onSelect:Fl},{header:f(({chooseCallback:i,uploadCallback:p,clearCallback:N,files:n})=>[l("div",ka,[l("div",wa,[a(o,{onClick:c=>i(),icon:"pi pi-images",rounded:"",outlined:"",severity:"secondary"},null,8,["onClick"]),a(o,{onClick:c=>ll(p),style:{display:"none"},icon:"pi pi-cloud-upload",rounded:"",outlined:"",severity:"success",disabled:!n||n.length===0},null,8,["onClick","disabled"]),a(o,{onClick:tl,icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!n||n.length===0},null,8,["disabled"])])])]),content:f(({files:i,uploadedFiles:p,removeUploadedFileCallback:N,removeFileCallback:n})=>[l("div",$a,[k.value>0?(x(),D(G,{key:0,value:k.value,class:"w-full mt-3"},null,8,["value"])):h("",!0),k.value>0?(x(),$("p",Ta,b(k.value)+"% ",1)):h("",!0),i.length>0?(x(),$("div",Va,[l("div",ja,[(x(!0),$(Fe,null,sl(i,(c,A)=>(x(),$("div",{key:c.name+c.type+c.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[l("div",za,[l("iframe",{role:"presentation",alt:c.name,src:c.objectURL,width:"auto",height:"50"},null,8,Sa)]),l("span",Ua,b(c.name),1),l("div",null,b(et(c.size)),1),a(lt,{value:"Pending",severity:"warn"}),a(o,{icon:"pi pi-times",onClick:O=>Pl(c,n,A),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):h("",!0)])]),empty:f(()=>e[56]||(e[56]=[l("div",{class:"flex items-center justify-center flex-col"},[l("i",{class:"pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-4xl !text-muted-color"}),l("p",{class:"mt-6 mb-0"},"اسحب الفديو او اختر الملف")],-1)])),_:1}),l("div",La,[a(o,{onClick:$l,loading:v.value,style:{"font-size":"medium"},disabled:!te.value,class:"w-full btn-icon",unstyled:!0,label:"حفظ الفديو"},null,8,["loading","disabled"])])])]),_:1},8,["visible"]),a(C,{header:"إضافة كورس",visible:fe.value,"onUpdate:visible":e[27]||(e[27]=i=>fe.value=i),style:{width:"70vh"},modal:!0},{default:f(()=>[l("div",Na,[l("div",Aa,[e[58]||(e[58]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم كورس ",-1)),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:"الإسم",class:"input_border w-full mb-3 text-end",modelValue:M.value.name,"onUpdate:modelValue":e[25]||(e[25]=i=>M.value.name=i)},null,8,["modelValue"])]),l("div",Ba,[e[59]||(e[59]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," وصــف الكورس",-1)),a(tt,{placeholder:"الوصف",modelValue:M.value.des,"onUpdate:modelValue":e[26]||(e[26]=i=>M.value.des=i),autoResize:!0,rows:"2",class:"w-full text-end"},null,8,["modelValue"])]),l("div",qa,[a(o,{loading:v.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:zl,label:"إنشاء كورس"},null,8,["loading"])])])]),_:1},8,["visible"]),a(C,{header:"تعديل كورس",visible:ye.value,"onUpdate:visible":e[29]||(e[29]=i=>ye.value=i),style:{width:"70vh"},modal:!0},{default:f(()=>[l("div",Ea,[e[60]||(e[60]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم كورس ",-1)),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:F.value.prevName,class:"input_border w-full mb-3 text-end",modelValue:F.value.nextName,"onUpdate:modelValue":e[28]||(e[28]=i=>F.value.nextName=i)},null,8,["placeholder","modelValue"]),l("div",Da,[a(o,{loading:v.value,label:"تعديل كورس",style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:Ll},null,8,["loading"])])])]),_:1},8,["visible"]),a(C,{header:"تعديل الفديو",visible:me.value,"onUpdate:visible":e[32]||(e[32]=i=>me.value=i),style:{width:"70vh"},modal:!0},{default:f(()=>[l("div",Ma,[l("div",Fa,[e[61]||(e[61]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم الفديو ",-1)),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:nl.value,class:"input_border w-full mb-3 text-end",modelValue:le.value,"onUpdate:modelValue":e[30]||(e[30]=i=>le.value=i)},null,8,["placeholder","modelValue"])]),l("div",Oa,[a(o,{loading:v.value,style:{"font-size":"medium"},disabled:le.value==="",class:"w-full",severity:"help",onClick:e[31]||(e[31]=i=>Bl()),label:"تعديل الفديو"},null,8,["loading","disabled"])])])]),_:1},8,["visible"]),l("div",Ia,[l("div",Ra,[e[113]||(e[113]=l("h5",{style:{"font-size":"large"}},"المواد",-1)),a(ot,{value:S.value,paginator:!R.value,rows:7},ne({header:f(()=>{var i,p,N,n,c;return[l("div",Ha,[l("div",null,[a(y,{modelValue:Re.value,"onUpdate:modelValue":e[33]||(e[33]=A=>Re.value=A),optionLabel:"search",dropdown:"",display:"chip",forceSelection:!0,completeOnFocus:!1,panelStyle:{display:"none"},"dropdown-icon":"pi pi-search",suggestions:J.value,placeholder:"بحث",onComplete:e[34]||(e[34]=A=>El(A)),onInput:ql,field:"search"},null,8,["modelValue","suggestions"])]),l("div",Ja,[R.value?h("",!0):(x(),$("div",Ka,[a(Me),a(jt,{title:"تقرير المواد",onSaveReport:e[35]||(e[35]=A=>ul(!0)),loading:q.value},null,8,["loading"]),a(o,{severity:"help",class:"btn-icon p-3",icon:"pi pi-trash",loading:v.value,disabled:((i=_.value)==null?void 0:i.length)!=1,onClick:e[36]||(e[36]=A=>{var O;return Al(A,(O=_.value[0])==null?void 0:O.slug)})},null,8,["loading","disabled"]),a(o,{icon:"pi pi-pencil",class:"btn-icon p-3",disabled:((p=_.value)==null?void 0:p.length)!=1,severity:"help",onClick:xl},null,8,["disabled","onClick"]),a(o,{severity:"help",outlined:"",class:"btn-icon p-4",label:"عرض المحتوى",disabled:((N=_.value)==null?void 0:N.length)!=1,onClick:gl},null,8,["disabled"]),a(o,{onClick:Cl,label:"إضافة مادة",severity:"help",outlined:"",class:"btn-icon p-4"})])),R.value?(x(),$("div",Qa,[a(Me),a(o,{severity:"help",outlined:"",class:"btn-icon p-4",icon:"pi pi-arrow-left",label:"المواد",disabled:((n=_.value)==null?void 0:n.length)!=1,onClick:e[37]||(e[37]=A=>R.value=!1)},null,8,["disabled"]),a(o,{onClick:fl,style:{"font-size":"medium"},label:"إضافة فديو",severity:"help",outlined:"",disabled:((c=H.value)==null?void 0:c.length)!=1},null,8,["disabled"]),a(o,{onClick:hl,style:{"font-size":"medium"},label:"إضافة كورس",severity:"help",outlined:""}),a(o,{onClick:wl,label:"إضافة محتوى",severity:"help",outlined:"",class:"btn-icon p-4"})])):h("",!0)])])]}),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",Wa,[e[62]||(e[62]=l("br",null,null,-1)),a(X,{size:"sm",color:"help",class:"flex justify-center"}),e[63]||(e[63]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... يرجى الانتظار ",-1)),e[64]||(e[64]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",Ga,[e[65]||(e[65]=l("br",null,null,-1)),a(Y,{size:"lm",class:"flex justify-center"}),e[66]||(e[66]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على نتائج",-1)),e[67]||(e[67]=l("br",null,null,-1))])]),key:"1"},R.value?{name:"list",fn:f(i=>{var p,N;return[l("div",Xa,[a(st,{value:"1"},{default:f(()=>[a(at,null,{default:f(()=>[a(ae,{style:oe({color:g.value==="4"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="4"?"bold":"normal"}),value:"4",onClick:e[38]||(e[38]=n=>g.value="4")},{default:f(()=>e[68]||(e[68]=[Q("روابط")])),_:1},8,["style"]),a(ae,{style:oe({color:g.value==="3"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="3"?"bold":"normal"}),value:"3",onClick:e[39]||(e[39]=n=>g.value="3")},{default:f(()=>e[69]||(e[69]=[Q("تطبيقات")])),_:1},8,["style"]),a(ae,{style:oe({color:g.value==="2"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="2"?"bold":"normal"}),value:"2",onClick:e[40]||(e[40]=n=>g.value="2")},{default:f(()=>e[70]||(e[70]=[Q("صوتيات")])),_:1},8,["style"]),wt(a(ae,{style:oe({color:g.value==="6"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="6"?"bold":"normal"}),value:"6",onClick:e[41]||(e[41]=n=>g.value="6")},{default:f(()=>e[71]||(e[71]=[Q("فديوهات")])),_:1},8,["style"]),[[$t,ol.value]]),a(ae,{style:oe({color:g.value==="5"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="5"?"bold":"normal"}),value:"5",onClick:e[42]||(e[42]=n=>g.value="5")},{default:f(()=>e[72]||(e[72]=[Q("كورسات")])),_:1},8,["style"]),a(ae,{style:oe({color:g.value==="1"?"var(--text-hover)":"var(--text)",fontWeight:g.value==="1"?"bold":"normal"}),value:"1",onClick:e[43]||(e[43]=n=>g.value="1")},{default:f(()=>e[73]||(e[73]=[Q("ملفات")])),_:1},8,["style"])]),_:1})]),_:1})]),g.value==="1"?(x(),D(he,{key:0,value:j.value.files.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},ne({item:f(n=>[l("div",Ya,[l("div",Za,[l("div",Pa,[l("a",{class:"rowName",href:He.value+"/storage/subject/pdf/"+n.data.content_url,target:"_blank",rel:"noopener noreferrer"},b(n.data.content_url),9,es),a(o,{icon:"pi pi-file-pdf",class:"ml-2",severity:"help",outlined:""})])]),l("div",ls,b("نوع الملف  : "+ue(n.data.subtype)),1),l("div",ts,[l("span",null,[a(o,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Ne(n.data.content_name,n.data.content_url,n.data.subtype,1,n.data.slug)},null,8,["onClick"]),a(o,{icon:"pi pi-trash",loading:v.value,severity:"danger",outlined:"",onClick:c=>Le(c,n.data.slug)},null,8,["loading","onClick"])]),l("div",as,b(n.data.content_name),1)])])]),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",ss,[e[74]||(e[74]=l("br",null,null,-1)),a(X,{size:"sm",color:"help",class:"flex justify-center"}),e[75]||(e[75]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الملفات يرجى الانتظار ",-1)),e[76]||(e[76]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",ns,[e[77]||(e[77]=l("br",null,null,-1)),a(Y,{size:"lm",class:"flex justify-center"}),e[78]||(e[78]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على ملفات لهاذي المادة ",-1)),e[79]||(e[79]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):h("",!0),g.value==="2"?(x(),D(he,{key:1,value:j.value.audios.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},ne({item:f(n=>[l("div",os,[l("div",is,[l("div",us,[l("audio",rs,[l("source",{src:He.value+"/storage/subject/audio/"+n.data.content_url,type:"audio/mpeg"},null,8,ds)])])]),l("div",vs,b("نوع الصوت  : "+ue(n.data.subtype)),1),l("div",cs,[l("span",null,[a(o,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Ne(n.data.content_name,n.data.content_url,n.data.subtype,2,n.data.slug)},null,8,["onClick"]),a(o,{icon:"pi pi-trash",loading:v.value,severity:"danger",outlined:"",onClick:c=>Le(c,n.data.slug)},null,8,["loading","onClick"])]),l("div",ms,b(n.data.content_name),1)])])]),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",ps,[e[80]||(e[80]=l("br",null,null,-1)),a(X,{size:"sm",color:"help",class:"flex justify-center"}),e[81]||(e[81]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل صوتيات يرجى الانتظار ",-1)),e[82]||(e[82]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",fs,[e[83]||(e[83]=l("br",null,null,-1)),a(Y,{size:"lm",class:"flex justify-center"}),e[84]||(e[84]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على صوتيات لهاذي المادة ",-1)),e[85]||(e[85]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):h("",!0),g.value==="3"?(x(),D(he,{key:2,value:j.value.apps.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},ne({item:f(n=>[l("div",ys,[l("div",bs,[l("div",xs,[l("a",{class:"rowName",href:n.data.content_url,target:"_blank",rel:"noopener noreferrer"},b(n.data.content_url),9,gs),a(o,{icon:"pi pi-android",class:"ml-2",severity:"help",outlined:""})])]),l("div",Cs,b("نوع البرنامج  : "+ue(n.data.subtype)),1),l("div",hs,[l("span",null,[a(o,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Ne(n.data.content_name,n.data.content_url,n.data.subtype,3,n.data.slug)},null,8,["onClick"]),a(o,{icon:"pi pi-trash",loading:v.value,severity:"danger",outlined:"",onClick:c=>Le(c,n.data.slug)},null,8,["loading","onClick"])]),l("div",_s,b(n.data.content_name),1)])])]),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",ks,[e[86]||(e[86]=l("br",null,null,-1)),a(X,{size:"sm",color:"help",class:"flex justify-center"}),e[87]||(e[87]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل التطبيقات يرجى الانتظار ",-1)),e[88]||(e[88]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",ws,[e[89]||(e[89]=l("br",null,null,-1)),a(Y,{size:"lm",class:"flex justify-center"}),e[90]||(e[90]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على التطبيقات لهاذي المادة ",-1)),e[91]||(e[91]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):h("",!0),g.value==="4"?(x(),D(he,{key:3,class:"col-12",value:j.value.links.content,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},ne({item:f(n=>[l("div",$s,[l("div",Ts,[l("div",Vs,[l("a",{class:"rowName",href:n.data.content_url,target:"_blank",rel:"noopener noreferrer"},b(n.data.content_url),9,js),a(o,{icon:"pi pi-link",class:"ml-2",severity:"help",outlined:""})])]),l("div",zs,b("نوع الرابط   : "+ue(n.data.subtype)),1),l("div",Ss,[l("span",null,[a(o,{icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:"",onClick:c=>Ne(n.data.content_name,n.data.content_url,n.data.subtype,4,n.data.slug)},null,8,["onClick"]),a(o,{icon:"pi pi-trash",loading:v.value,severity:"danger",outlined:"",onClick:c=>Le(c,n.data.slug)},null,8,["loading","onClick"])]),l("div",Us,b(n.data.content_name),1)])])]),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",Ls,[e[92]||(e[92]=l("br",null,null,-1)),a(X,{size:"sm",color:"help",class:"flex justify-center"}),e[93]||(e[93]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الروابط يرجى الانتظار ",-1)),e[94]||(e[94]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",Ns,[e[95]||(e[95]=l("br",null,null,-1)),a(Y,{size:"lm",class:"flex justify-center"}),e[96]||(e[96]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على الروابط لهاذي المادة ",-1)),e[97]||(e[97]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):h("",!0),g.value==="6"?(x(),D(he,{key:4,value:j.value.Videos,numVisible:3,numScroll:3,responsiveOptions:t.carouselResponsiveOptions},ne({item:f(n=>[l("div",As,[l("div",Bs,[l("div",qs,[l("iframe",{src:He.value+"/storage/course/"+n.data.course_name+`/${n.data.video_url}${n.data.video_url.includes("?")?"&":"?"}autoplay=1`,loading:"eager",style:{width:"100%"},allowfullscreen:"",class:"w-full rounded",allow:"encrypted-media"},null,8,Es),l("div",Ds,[a(nt,{value:n.data.created_at},null,8,["value"])])])]),l("div",Ms,b(n.data.video_title),1),l("div",Fs,[l("span",null,[a(o,{onClick:c=>yl(n.data.slug,n.data.video_title,n.data.course_name),icon:"pi pi-pencil",class:"mr-4",severity:"warn",outlined:""},null,8,["onClick"]),a(o,{icon:"pi pi-trash",onClick:c=>bl(c,n.data.slug),loading:v.value,severity:"danger",outlined:""},null,8,["onClick","loading"])]),l("div",Os,b(n.data.course_name),1)])])]),_:2},[q.value?{name:"empty",fn:f(()=>[l("div",Is,[e[98]||(e[98]=l("br",null,null,-1)),a(X,{size:"sm",color:"help",class:"flex justify-center"}),e[99]||(e[99]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الفديوهات يرجى الانتظار ",-1)),e[100]||(e[100]=l("br",null,null,-1))])]),key:"0"}:{name:"empty",fn:f(()=>[l("div",Rs,[e[101]||(e[101]=l("br",null,null,-1)),a(Y,{size:"lm",class:"flex justify-center"}),e[102]||(e[102]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على فديوهات لهاذي الكورس ",-1)),e[103]||(e[103]=l("br",null,null,-1))])]),key:"1"}]),1032,["value","responsiveOptions"])):h("",!0),g.value==="5"?(x(),$(Fe,{key:5},[j.value.courses.length>0?(x(),$("div",{key:0,class:Tt(((N=(p=j.value)==null?void 0:p.courses)==null?void 0:N.length)>3?"divTable":"")},[e[104]||(e[104]=l("div",{class:"tbody col-12 flex flex-column mb-4 mt-4 gap-16",style:{"justify-content":"space-between","font-size":"large"}},[l("div",{class:"th"},"الإعدادات"),l("div",{class:"td"}," الحالة "),l("div",{class:"tg"}," الوصف"),l("div",{class:"tg"}," إسم كورس ")],-1)),j.value.courses.length>0?(x(!0),$(Fe,{key:0},sl(j.value.courses,n=>(x(),$("div",Ws,[l("div",Gs,[a(Me),a(o,{severity:"help",outlined:"",icon:"pi pi-eye",onClick:c=>kl(n.slug)},null,8,["onClick"]),a(o,{loading:v.value,class:"mr-3",severity:"help",outlined:"",icon:"pi pi-trash",onClick:c=>Nl(c,n.slug)},null,8,["loading","onClick"]),a(o,{severity:"help",outlined:"",icon:"pi pi-pencil",class:"mr-3",onClick:c=>Ul(n.slug,n.course_name)},null,8,["onClick"])]),l("div",Hs,[a(Me),n.status==="inactive"?(x(),D(o,{key:0,class:"font-bold text-1xl ml-2",onClick:c=>dl(c,n.slug,n.status),icon:"pi pi-lock",label:"حظر",severity:"danger",outlined:""},null,8,["onClick"])):h("",!0),n.status==="active"?(x(),D(o,{key:1,class:"font-bold text-1xl ml-2",onClick:c=>dl(c,n.slug,n.status),icon:"pi pi-lock-open",label:"فعال ",severity:"success",outlined:""},null,8,["onClick"])):h("",!0)]),l("div",Js,[l("span",Ks,b(n.des),1)]),l("div",Qs,[a(cl,{class:"ml-3",name:"option",value:n==null?void 0:n.slug,modelValue:H.value,"onUpdate:modelValue":e[44]||(e[44]=c=>H.value=c)},null,8,["value","modelValue"]),l("span",Xs,b(n==null?void 0:n.course_name),1)])]))),256)):h("",!0)],2)):q.value?(x(),$("div",Ys,[e[105]||(e[105]=l("br",null,null,-1)),a(X,{size:"sm",color:"help",class:"flex justify-center"}),e[106]||(e[106]=l("p",{class:"text bold-18 lh-24 pb-6"}," ...... تحميل الكورسات يرجى الانتظار ",-1)),e[107]||(e[107]=l("br",null,null,-1))])):(x(),$("div",Zs,[e[108]||(e[108]=l("br",null,null,-1)),a(Y,{size:"lm",class:"flex justify-center"}),e[109]||(e[109]=l("h1",{class:"text bold-18 lh-24 pb-6"},"لم يتم العثور على الكورسات لهاذي المادة ",-1)),e[110]||(e[110]=l("br",null,null,-1))]))],64)):h("",!0)]}),key:"2"}:void 0,R.value?void 0:{name:"list",fn:f(i=>[e[112]||(e[112]=l("div",{class:"tbody w-full col-12 flex flex-column mb-6 mt-4 gap-16",style:{"justify-content":"space-between","font-size":"large"}},[l("div",{class:"td"},"التاريخ"),l("div",{class:"th"}," الجامعة "),l("div",{class:"th"}," الكلية "),l("div",{class:"th"}," التخصص "),l("div",{class:"td"}," المستوى "),l("div",{class:"td"}," الترم"),l("div",{class:"th"}," إسم المادة ")],-1)),a(C,{header:"تعديل المادة",visible:ve.value,"onUpdate:visible":e[46]||(e[46]=p=>ve.value=p),style:{width:"80vh"},modal:!0},{default:f(()=>[l("div",Ps,[e[111]||(e[111]=l("label",{class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"إسم المادة ",-1)),a(r,{style:{"border-color":"var(--p-content-border-color)"},type:"text",placeholder:B.value.prevName,class:"input_border w-full mb-3 text-end",modelValue:B.value.nextName,"onUpdate:modelValue":e[45]||(e[45]=p=>B.value.nextName=p)},null,8,["placeholder","modelValue"])]),l("div",en,[a(o,{loading:v.value,style:{"font-size":"medium"},class:"w-full btn-icon",unstyled:!0,onClick:Sl,label:"تعديل المادة"},null,8,["loading"])])]),_:1},8,["visible"]),(x(!0),$(Fe,null,sl(i.items,p=>(x(),$("div",ln,[l("div",tn,[l("span",an,b(Vt(Z).extractDate(p.created_at)),1)]),l("div",sn,[l("span",null,b(p==null?void 0:p.uni_name),1)]),l("div",nn,[l("span",null,b(p==null?void 0:p.college_name),1)]),l("div",on,[l("span",null,b(p==null?void 0:p.major_name),1)]),l("div",un,[l("span",null,b(p==null?void 0:p.level_name),1)]),l("div",rn,[l("span",null,b(p==null?void 0:p.term_name),1)]),l("div",dn,[a(cl,{class:"ml-2",name:"option",value:p,modelValue:_.value,"onUpdate:modelValue":e[47]||(e[47]=N=>_.value=N)},null,8,["value","modelValue"]),l("span",null,b(p==null?void 0:p.subject_name),1)])]))),256))]),key:"3"}]),1032,["value","paginator"])])])])}}},kn=yt(vn,[["__scopeId","data-v-b7284aae"]]);export{kn as default};
